Ω
SC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\App_Start\RouteConfig.cs
	namespace		 	
OnlineSinav		
 
{

 
public 

class 
RouteConfig 
{ 
public 
static 
void 
RegisterRoutes )
() *
RouteCollection* 9
routes: @
)@ A
{ 	
var 

namespaces 
= 
new  
[  !
]! "
{# $
typeof% +
(+ ,
AuthController, :
): ;
.; <
	Namespace< E
}F G
;G H
routes 
. 
IgnoreRoute 
( 
$str ;
); <
;< =
routes 
. 
MapRoute 
( 
$str "
," #
$str$ &
,& '
new( +
{, -

controller. 8
=9 :
$str; A
,A B
actionC I
=J K
$strL S
}T U
)U V
;V W
routes 
. 
MapRoute 
( 
$str #
,# $
$str% ,
,, -
new. 1
{2 3

controller4 >
=? @
$strA G
,G H
actionI O
=P Q
$strR Y
}Z [
)[ \
;\ ]
routes 
. 
MapRoute 
( 
$str $
,$ %
$str& .
,. /
new0 3
{4 5

controller6 @
=A B
$strC I
,I J
actionK Q
=R S
$strT \
}] ^
)^ _
;_ `
} 	
} 
} û	
_C:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Admin\AdminAreaRegistration.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Admin !
{ 
public 

class !
AdminAreaRegistration &
:' (
AreaRegistration) 9
{ 
public 
override 
string 
AreaName '
{ 	
get		 
{

 
return 
$str 
; 
} 
} 	
public 
override 
void 
RegisterArea )
() *#
AreaRegistrationContext* A
contextB I
)I J
{ 	
context 
. 
MapRoute 
( 
$str 
,  
$str 2
,2 3
new 
{ 
action 
= 
$str &
,& '
id( *
=+ ,
UrlParameter- 9
.9 :
Optional: B
}C D
) 
; 
} 	
} 
} Õæ
eC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Admin\Controllers\UsersController.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Admin !
.! "
Controllers" -
{ 
public 

class 
UsersController  
:! "

Controller# -
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
new 
ViewTeacher '
{ 
allTeachers 
= 
Database &
.& '
Session' .
.. /
Query/ 4
<4 5
Users5 :
>: ;
(; <
)< =
.= >
Where> C
(C D
uD E
=>F H
uI J
.J K
RoleK O
.O P
RoleNameP X
==Y [
$str\ e
)e f
.f g
ToListg m
(m n
)n o
} 
) 
; 
} 	
public 
ActionResult 
ViewStudents (
(( )
)) *
{ 	
return 
View 
( 
new 
ViewStudents (
{   
allStudents!! 
=!! 
Database!! &
.!!& '
Session!!' .
.!!. /
Query!!/ 4
<!!4 5
Users!!5 :
>!!: ;
(!!; <
)!!< =
.!!= >
Where!!> C
(!!C D
u!!D E
=>!!F H
u!!I J
.!!J K
Role!!K O
.!!O P
RoleName!!P X
==!!Y [
$str!!\ e
)!!e f
.!!f g
ToList!!g m
(!!m n
)!!n o
}$$ 
)$$ 
;$$ 
}%% 	
public&& 
ActionResult&& 
	ViewAdmin&& %
(&&% &
)&&& '
{'' 	
return** 
View** 
(** 
new** 
	ViewAdmin** %
{++ 
	allAdmins,, 
=,, 
Database,, $
.,,$ %
Session,,% ,
.,,, -
Query,,- 2
<,,2 3
Users,,3 8
>,,8 9
(,,9 :
),,: ;
.,,; <
Where,,< A
(,,A B
u,,B C
=>,,D F
u,,G H
.,,H I
Role,,I M
.,,M N
RoleName,,N V
==,,W Y
$str,,Z a
),,a b
.,,b c
ToList,,c i
(,,i j
),,j k
}.. 
).. 
;.. 
}// 	
public11 
ActionResult11 

CreateUser11 &
(11& '
)11' (
{22 	
IEnumerable33 
<33 
Roles33 
>33 
currentRoles33 +
=33, -
Database33. 6
.336 7
Session337 >
.33> ?
Query33? D
<33D E
Roles33E J
>33J K
(33K L
)33L M
;33M N
IEnumerable44 
<44 

Department44 "
>44" #
currentDepts44$ 0
=441 2
Database443 ;
.44; <
Session44< C
.44C D
Query44D I
<44I J

Department44J T
>44T U
(44U V
)44V W
;44W X

CreateUser55 
newUser55 
=55  
new55! $

CreateUser55% /
(55/ 0
)550 1
;551 2
newUser77 
.77 
allRoles77 
=77 
new77 "

SelectList77# -
(77- .
currentRoles77. :
,77: ;
$str77< @
,77@ A
$str77B L
)77L M
;77M N
return99 
View99 
(99 
new99 

CreateUser99 &
{:: 
allRoles;; 
=;; 
new;; 

SelectList;; )
(;;) *
currentRoles;;* 6
,;;6 7
$str;;8 <
,;;< =
$str;;> H
);;H I
,;;I J
allDepts<< 
=<< 
new<< 

SelectList<< )
(<<) *
currentDepts<<* 6
,<<6 7
$str<<8 <
,<<< =
$str<<> H
)<<H I
}== 
)== 
;== 
}>> 	
private@@ 
void@@ 
setUserDept@@  
(@@  !
int@@! $
deptID@@% +
,@@+ ,
IList@@- 2
<@@2 3
Models@@3 9
.@@9 :

Department@@: D
>@@D E
userDept@@F N
)@@N O
{AA 	
foreachBB 
(BB 
varBB 
departmentsBB $
inBB% '
DatabaseBB( 0
.BB0 1
SessionBB1 8
.BB8 9
QueryBB9 >
<BB> ?
ModelsBB? E
.BBE F

DepartmentBBF P
>BBP Q
(BBQ R
)BBR S
)BBS T
{CC 
ifDD 
(DD 
departmentsDD 
.DD  
idDD  "
==DD# %
deptIDDD& ,
)DD, -
{EE 
userDeptFF 
.FF 
AddFF  
(FF  !
departmentsFF! ,
)FF, -
;FF- .
}GG 
}HH 
}II 	
[KK 	
HttpPostKK	 
]KK 
publicLL 
ActionResultLL 

CreateUserLL &
(LL& '

CreateUserLL' 1
formLL2 6
)LL6 7
{MM 	
IEnumerableOO 
<OO 

DepartmentOO "
>OO" #
AllDepartmentOO$ 1
=OO2 3
DatabaseOO4 <
.OO< =
SessionOO= D
.OOD E
QueryOOE J
<OOJ K

DepartmentOOK U
>OOU V
(OOV W
)OOW X
;OOX Y
IEnumerablePP 
<PP 
RolesPP 
>PP 
AllRolesPP '
=PP( )
DatabasePP* 2
.PP2 3
SessionPP3 :
.PP: ;
QueryPP; @
<PP@ A
RolesPPA F
>PPF G
(PPG H
)PPH I
.PPI J
ToListPPJ P
(PPP Q
)PPQ R
;PPR S
ifQQ 
(QQ 
DatabaseQQ 
.QQ 
SessionQQ  
.QQ  !
QueryQQ! &
<QQ& '
UsersQQ' ,
>QQ, -
(QQ- .
)QQ. /
.QQ/ 0
AnyQQ0 3
(QQ3 4
uQQ4 5
=>QQ6 8
uQQ9 :
.QQ: ;
SchoolNumberQQ; G
==QQH J
formQQK O
.QQO P
school_numberQQP ]
||QQ^ `
uQQa b
.QQb c
PasswordQQc k
==QQl n
$strQQo q
)QQq r
)QQr s
{RR 

ModelStateSS 
.SS 
AddModelErrorSS (
(SS( )
$strSS) 8
,SS8 9
$strSS: l
)SSl m
;SSm n
}TT 
ifVV 
(VV 
!VV 

ModelStateVV 
.VV 
IsValidVV #
)VV# $
returnXX 
ViewXX 
(XX 
newXX 

CreateUserXX  *
{YY 
firstname_lastnameZZ &
=ZZ' (
formZZ) -
.ZZ- .
firstname_lastnameZZ. @
,ZZ@ A
allRoles[[ 
=[[ 
new[[ "

SelectList[[# -
([[- .
AllRoles[[. 6
)[[6 7
,[[7 8
allDepts\\ 
=\\ 
new\\ "

SelectList\\# -
(\\- .
AllDepartment\\. ;
)\\; <
}]] 
)]] 
;]] 
Usersgg 
newUsergg 
=gg 
newgg 
Usersgg  %
{gg& '
SchoolNumberhh 
=hh 
formhh #
.hh# $
school_numberhh$ 1
,hh1 2
Roleii 
=ii 
newii 
Rolesii  
{jj 
idkk 
=kk 
formkk 
.kk 

userRoleIDkk (
,kk( )
RoleNamell 
=ll 
(ll  
Databasell  (
.ll( )
Sessionll) 0
.ll0 1
Loadll1 5
<ll5 6
Rolesll6 ;
>ll; <
(ll< =
formll= A
.llA B

userRoleIDllB L
)llL M
.llM N
ToStringllN V
(llV W
)llW X
)llX Y
}mm 
,mm 
Namenn 
=nn 
formnn 
.nn 
firstname_lastnamenn .
}oo 
;oo 
setUserDeptqq 
(qq 
formqq 
.qq 

userDeptIDqq '
,qq' (
newUserqq) 0
.qq0 1
deptsqq1 6
)qq6 7
;qq7 8
newUserss 
.ss 
SetPasswordss 
(ss  
formss  $
.ss$ %
passwordss% -
)ss- .
;ss. /
Databaseuu 
.uu 
Sessionuu 
.uu 
Saveuu !
(uu! "
newUseruu" )
)uu) *
;uu* +
Databasevv 
.vv 
Sessionvv 
.vv 
Flushvv "
(vv" #
)vv# $
;vv$ %
varxx 
userRolexx 
=xx 
Databasexx #
.xx# $
Sessionxx$ +
.xx+ ,
Loadxx, 0
<xx0 1
Rolesxx1 6
>xx6 7
(xx7 8
formxx8 <
.xx< =

userRoleIDxx= G
)xxG H
.xxH I
RoleNamexxI Q
;xxQ R
ifyy 
(yy 
userRoleyy 
==yy 
$stryy #
)yy# $
{zz 
return{{ 
RedirectToAction{{ '
({{' (
$str{{( 3
){{3 4
;{{4 5
}|| 
else}} 
if}} 
(}} 
userRole}} 
==}}  
$str}}! *
)}}* +
{~~ 
return 
RedirectToAction '
(' (
$str( /
)/ 0
;0 1
}
ÄÄ 
else
ÅÅ 
return
ÇÇ 
RedirectToAction
ÇÇ '
(
ÇÇ' (
$str
ÇÇ( 6
)
ÇÇ6 7
;
ÇÇ7 8
}
ÉÉ 	
public
ÖÖ 
ActionResult
ÖÖ 

DeleteUser
ÖÖ &
(
ÖÖ& '
int
ÖÖ' *
id
ÖÖ+ -
)
ÖÖ- .
{
ÜÜ 	
var
áá 
user
áá 
=
áá 
Database
áá 
.
áá  
Session
áá  '
.
áá' (
Load
áá( ,
<
áá, -
Users
áá- 2
>
áá2 3
(
áá3 4
id
áá4 6
)
áá6 7
;
áá7 8
Database
ââ 
.
ââ 
Session
ââ 
.
ââ 
Delete
ââ #
(
ââ# $
user
ââ$ (
)
ââ( )
;
ââ) *
Database
ää 
.
ää 
Session
ää 
.
ää 
Flush
ää "
(
ää" #
)
ää# $
;
ää$ %
return
éé 
RedirectToAction
éé #
(
éé# $
$str
éé$ +
)
éé+ ,
;
éé, -
}
ëë 	
private
ìì 
void
ìì 
	SyncRoles
ìì 
(
ìì 
IList
ìì $
<
ìì$ %
RolDropDown
ìì% 0
>
ìì0 1

checkBoxes
ìì2 <
,
ìì< =
IList
ìì> C
<
ììC D
Roles
ììD I
>
ììI J
roles
ììK P
)
ììP Q
{
îî 	
var
ïï 
selectedRoles
ïï 
=
ïï 
new
ïï  #
List
ïï$ (
<
ïï( )
Roles
ïï) .
>
ïï. /
(
ïï/ 0
)
ïï0 1
;
ïï1 2
foreach
óó 
(
óó 
var
óó 
role
óó 
in
óó  
Database
óó! )
.
óó) *
Session
óó* 1
.
óó1 2
Query
óó2 7
<
óó7 8
Roles
óó8 =
>
óó= >
(
óó> ?
)
óó? @
)
óó@ A
{
òò 
var
ôô 
checkbox
ôô 
=
ôô 

checkBoxes
ôô )
.
ôô) *
Single
ôô* 0
(
ôô0 1
c
ôô1 2
=>
ôô3 5
c
ôô6 7
.
ôô7 8
id
ôô8 :
==
ôô; =
role
ôô> B
.
ôôB C
id
ôôC E
)
ôôE F
;
ôôF G
checkbox
öö 
.
öö 
name
öö 
=
öö 
role
öö  $
.
öö$ %
RoleName
öö% -
;
öö- .
selectedRoles
úú 
.
úú 
Add
úú !
(
úú! "
role
úú" &
)
úú& '
;
úú' (
}
üü 
foreach
°° 
(
°° 
var
°° 
toAdd
°° 
in
°° !
selectedRoles
°°" /
.
°°/ 0
Where
°°0 5
(
°°5 6
t
°°6 7
=>
°°8 :
!
°°; <
roles
°°< A
.
°°A B
Contains
°°B J
(
°°J K
t
°°K L
)
°°L M
)
°°M N
)
°°N O
{
¢¢ 
roles
££ 
.
££ 
Add
££ 
(
££ 
toAdd
££ 
)
££  
;
££  !
}
§§ 
foreach
¶¶ 
(
¶¶ 
var
¶¶ 
toRemove
¶¶ !
in
¶¶" $
roles
¶¶% *
.
¶¶* +
Where
¶¶+ 0
(
¶¶0 1
t
¶¶1 2
=>
¶¶3 5
!
¶¶6 7
selectedRoles
¶¶7 D
.
¶¶D E
Contains
¶¶E M
(
¶¶M N
t
¶¶N O
)
¶¶O P
)
¶¶P Q
.
¶¶Q R
ToList
¶¶R X
(
¶¶X Y
)
¶¶Y Z
)
¶¶Z [
{
ßß 
roles
®® 
.
®® 
Remove
®® 
(
®® 
toRemove
®® %
)
®®% &
;
®®& '
}
©© 
}
™™ 	
public
¨¨ 
ActionResult
¨¨ 
EditUser
¨¨ $
(
¨¨$ %
int
¨¨% (
id
¨¨) +
)
¨¨+ ,
{
≠≠ 	
var
ÆÆ 
user
ÆÆ 
=
ÆÆ 
Database
ÆÆ 
.
ÆÆ  
Session
ÆÆ  '
.
ÆÆ' (
Load
ÆÆ( ,
<
ÆÆ, -
Users
ÆÆ- 2
>
ÆÆ2 3
(
ÆÆ3 4
id
ÆÆ4 6
)
ÆÆ6 7
;
ÆÆ7 8
IEnumerable
ØØ 
<
ØØ 
Roles
ØØ 
>
ØØ 
AllRoles
ØØ '
=
ØØ( )
Database
ØØ* 2
.
ØØ2 3
Session
ØØ3 :
.
ØØ: ;
Query
ØØ; @
<
ØØ@ A
Roles
ØØA F
>
ØØF G
(
ØØG H
)
ØØH I
;
ØØI J
IEnumerable
∞∞ 
<
∞∞ 

Department
∞∞ "
>
∞∞" #
AllDepartment
∞∞$ 1
=
∞∞2 3
Database
∞∞4 <
.
∞∞< =
Session
∞∞= D
.
∞∞D E
Query
∞∞E J
<
∞∞J K

Department
∞∞K U
>
∞∞U V
(
∞∞V W
)
∞∞W X
;
∞∞X Y
return
≥≥ 
View
≥≥ 
(
≥≥ 
new
≥≥ 

CreateUser
≥≥ &
{
¥¥  
firstname_lastname
µµ "
=
µµ# $
user
µµ% )
.
µµ) *
Name
µµ* .
,
µµ. /
school_number
∂∂ 
=
∂∂ 
user
∂∂  $
.
∂∂$ %
SchoolNumber
∂∂% 1
,
∂∂1 2
allRoles
∑∑ 
=
∑∑ 
new
∑∑ 

SelectList
∑∑ )
(
∑∑) *
AllRoles
∑∑* 2
)
∑∑2 3
,
∑∑3 4
SelectedRoleID
∏∏ 
=
∏∏  
System
∏∏! '
.
∏∏' (
Convert
∏∏( /
.
∏∏/ 0
ToString
∏∏0 8
(
∏∏8 9
user
∏∏9 =
.
∏∏= >
Role
∏∏> B
.
∏∏B C
id
∏∏C E
)
∏∏E F
,
∏∏F G
allDepts
ππ 
=
ππ 
new
ππ 

SelectList
ππ )
(
ππ) *
AllDepartment
ππ* 7
)
ππ7 8
,
ππ8 9
}
ªª 
)
ªª 
;
ªª 
}
ΩΩ 	
[
ææ 	
HttpPost
ææ	 
]
ææ 
public
øø 
ActionResult
øø 
EditUser
øø $
(
øø$ %
int
øø% (
id
øø) +
,
øø+ ,

CreateUser
øø- 7
formdata
øø8 @
)
øø@ A
{
¿¿ 	
IEnumerable
¡¡ 
<
¡¡ 

Department
¡¡ "
>
¡¡" #
AllDepartment
¡¡$ 1
=
¡¡2 3
Database
¡¡4 <
.
¡¡< =
Session
¡¡= D
.
¡¡D E
Query
¡¡E J
<
¡¡J K

Department
¡¡K U
>
¡¡U V
(
¡¡V W
)
¡¡W X
;
¡¡X Y
IEnumerable
¬¬ 
<
¬¬ 
Roles
¬¬ 
>
¬¬ 
AllRoles
¬¬ '
=
¬¬( )
Database
¬¬* 2
.
¬¬2 3
Session
¬¬3 :
.
¬¬: ;
Query
¬¬; @
<
¬¬@ A
Roles
¬¬A F
>
¬¬F G
(
¬¬G H
)
¬¬H I
.
¬¬I J
ToList
¬¬J P
(
¬¬P Q
)
¬¬Q R
;
¬¬R S
var
√√ 
role
√√ 
=
√√ 
Database
√√ 
.
√√  
Session
√√  '
.
√√' (
Load
√√( ,
<
√√, -
Roles
√√- 2
>
√√2 3
(
√√3 4
System
√√4 :
.
√√: ;
Convert
√√; B
.
√√B C
ToInt32
√√C J
(
√√J K
formdata
√√K S
.
√√S T
SelectedRoleID
√√T b
)
√√b c
)
√√c d
;
√√d e
var
ƒƒ 
newUser
ƒƒ 
=
ƒƒ 
Database
ƒƒ "
.
ƒƒ" #
Session
ƒƒ# *
.
ƒƒ* +
Load
ƒƒ+ /
<
ƒƒ/ 0
Users
ƒƒ0 5
>
ƒƒ5 6
(
ƒƒ6 7
id
ƒƒ7 9
)
ƒƒ9 :
;
ƒƒ: ;
if
≈≈ 
(
≈≈ 
Database
≈≈ 
.
≈≈ 
Session
≈≈  
.
≈≈  !
Query
≈≈! &
<
≈≈& '
Users
≈≈' ,
>
≈≈, -
(
≈≈- .
)
≈≈. /
.
≈≈/ 0
Any
≈≈0 3
(
≈≈3 4
u
≈≈4 5
=>
≈≈6 8
u
≈≈9 :
.
≈≈: ;
Password
≈≈; C
==
≈≈D F
$str
≈≈G I
)
≈≈I J
)
≈≈J K
{
∆∆ 

ModelState
«« 
.
«« 
AddModelError
«« (
(
««( )
$str
««) 8
,
««8 9
$str
««: l
)
««l m
;
««m n
}
»» 
if
   
(
   
!
   

ModelState
   
.
   
IsValid
   #
)
  # $
return
ÀÀ 
View
ÀÀ 
(
ÀÀ 
new
ÀÀ 

CreateUser
ÀÀ  *
{
ÃÃ  
firstname_lastname
ÕÕ &
=
ÕÕ' (
formdata
ÕÕ) 1
.
ÕÕ1 2 
firstname_lastname
ÕÕ2 D
,
ÕÕD E
school_number
ŒŒ !
=
ŒŒ" #
formdata
ŒŒ$ ,
.
ŒŒ, -
school_number
ŒŒ- :
,
ŒŒ: ;
allRoles
œœ 
=
œœ 
new
œœ "

SelectList
œœ# -
(
œœ- .
AllRoles
œœ. 6
)
œœ6 7
,
œœ7 8
SelectedRoleID
–– "
=
––# $
System
––% +
.
––+ ,
Convert
––, 3
.
––3 4
ToString
––4 <
(
––< =
formdata
––= E
.
––E F
SelectedRoleID
––F T
)
––T U
,
––U V
allDepts
—— 
=
—— 
new
—— "

SelectList
——# -
(
——- .
AllDepartment
——. ;
)
——; <
,
——< =
}
”” 
)
”” 
;
”” 
newUser
’’ 
.
’’ 
SchoolNumber
’’  
=
’’! "
formdata
’’# +
.
’’+ ,
school_number
’’, 9
;
’’9 :
setUserDept
÷÷ 
(
÷÷ 
formdata
÷÷  
.
÷÷  !

userDeptID
÷÷! +
,
÷÷+ ,
newUser
÷÷- 4
.
÷÷4 5
depts
÷÷5 :
)
÷÷: ;
;
÷÷; <
newUser
◊◊ 
.
◊◊ 
Role
◊◊ 
=
◊◊ 
role
◊◊ 
;
◊◊  
newUser
ÿÿ 
.
ÿÿ 
Name
ÿÿ 
=
ÿÿ 
formdata
ÿÿ #
.
ÿÿ# $ 
firstname_lastname
ÿÿ$ 6
;
ÿÿ6 7
newUser
ŸŸ 
.
ŸŸ 
SetPassword
ŸŸ 
(
ŸŸ  
formdata
ŸŸ  (
.
ŸŸ( )
password
ŸŸ) 1
)
ŸŸ1 2
;
ŸŸ2 3
Database
€€ 
.
€€ 
Session
€€ 
.
€€ 
Update
€€ #
(
€€# $
newUser
€€$ +
)
€€+ ,
;
€€, -
Database
‹‹ 
.
‹‹ 
Session
‹‹ 
.
‹‹ 
Flush
‹‹ "
(
‹‹" #
)
‹‹# $
;
‹‹$ %
var
›› 
user
›› 
=
›› 
Database
›› 
.
››  
Session
››  '
.
››' (
Load
››( ,
<
››, -
Users
››- 2
>
››2 3
(
››3 4
id
››4 6
)
››6 7
;
››7 8
var
ﬁﬁ 
userRole
ﬁﬁ 
=
ﬁﬁ 
user
ﬁﬁ 
.
ﬁﬁ  
Role
ﬁﬁ  $
.
ﬁﬁ$ %
RoleName
ﬁﬁ% -
;
ﬁﬁ- .
if
‡‡ 
(
‡‡ 
userRole
‡‡ 
==
‡‡ 
$str
‡‡ #
)
‡‡# $
{
·· 
return
‚‚ 
RedirectToAction
‚‚ '
(
‚‚' (
$str
‚‚( 3
)
‚‚3 4
;
‚‚4 5
}
ÂÂ 
else
ÊÊ 
if
ÊÊ 
(
ÊÊ 
userRole
ÊÊ 
==
ÊÊ  
$str
ÊÊ! *
)
ÊÊ* +
{
ÁÁ 
return
ËË 
RedirectToAction
ËË '
(
ËË' (
$str
ËË( /
)
ËË/ 0
;
ËË0 1
}
ÎÎ 
else
ÏÏ 
return
ÌÌ 
RedirectToAction
ÌÌ '
(
ÌÌ' (
$str
ÌÌ( 6
)
ÌÌ6 7
;
ÌÌ7 8
}
ÓÓ 	
public
ÔÔ 
ActionResult
ÔÔ 
Delete
ÔÔ "
(
ÔÔ" #
int
ÔÔ# &
id
ÔÔ' )
)
ÔÔ) *
{
 	
var
ÒÒ 
user
ÒÒ 
=
ÒÒ 
Database
ÒÒ 
.
ÒÒ  
Session
ÒÒ  '
.
ÒÒ' (
Load
ÒÒ( ,
<
ÒÒ, -
Users
ÒÒ- 2
>
ÒÒ2 3
(
ÒÒ3 4
id
ÒÒ4 6
)
ÒÒ6 7
;
ÒÒ7 8
var
ÚÚ 
userRole
ÚÚ 
=
ÚÚ 
user
ÚÚ 
.
ÚÚ  
Role
ÚÚ  $
.
ÚÚ$ %
RoleName
ÚÚ% -
;
ÚÚ- .
if
ÛÛ 
(
ÛÛ 
user
ÛÛ 
==
ÛÛ 
null
ÛÛ 
)
ÛÛ 
{
ÙÙ 
return
ıı 
HttpNotFound
ıı #
(
ıı# $
)
ıı$ %
;
ıı% &
}
ˆˆ 
Database
¯¯ 
.
¯¯ 
Session
¯¯ 
.
¯¯ 
Delete
¯¯ #
(
¯¯# $
user
¯¯$ (
)
¯¯( )
;
¯¯) *
Database
˘˘ 
.
˘˘ 
Session
˘˘ 
.
˘˘ 
Flush
˘˘ "
(
˘˘" #
)
˘˘# $
;
˘˘$ %
if
˙˙ 
(
˙˙ 
userRole
˙˙ 
==
˙˙ 
$str
˙˙ #
)
˙˙# $
{
˚˚ 
return
¸¸ 
RedirectToAction
¸¸ '
(
¸¸' (
$str
¸¸( 3
)
¸¸3 4
;
¸¸4 5
}
ˇˇ 
else
ÄÄ 
if
ÄÄ 
(
ÄÄ 
userRole
ÄÄ 
==
ÄÄ  
$str
ÄÄ! *
)
ÄÄ* +
{
ÅÅ 
return
ÇÇ 
RedirectToAction
ÇÇ '
(
ÇÇ' (
$str
ÇÇ( /
)
ÇÇ/ 0
;
ÇÇ0 1
}
ÖÖ 
else
ÜÜ 
return
áá 
RedirectToAction
áá '
(
áá' (
$str
áá( 6
)
áá6 7
;
áá7 8
}
àà 	
public
ââ 
ActionResult
ââ 
Logout
ââ "
(
ââ" #
)
ââ# $
{
ää 	!
FormsAuthentication
ãã 
.
ãã  
SignOut
ãã  '
(
ãã' (
)
ãã( )
;
ãã) *
return
åå 
RedirectToRoute
åå "
(
åå" #
$str
åå# )
)
åå) *
;
åå* +
}
çç 	
}
éé 
}èè ÈÜ
iC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Student\Controllers\StudentController.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Student #
.# $
Controllers$ /
{ 
[ 
	Authorize 
( 
Roles 
= 
$str  
)  !
]! "
public 

class 
StudentController "
:# $

Controller% /
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
List 
< 
Exam 
> 
result 
= 
new  #
List$ (
<( )
Exam) -
>- .
(. /
)/ 0
;0 1
var 

loggedUser 
= 
Database %
.% &
Session& -
.- .
Query. 3
<3 4
Users4 9
>9 :
(: ;
); <
.< =
FirstOrDefault= K
(K L
cL M
=>N P
cQ R
.R S
SchoolNumberS _
==` b
HttpContextc n
.n o
Usero s
.s t
Identityt |
.| }
Name	} Å
)
Å Ç
;
Ç É
result 
= 
Database 
. 
Session %
.% &
	QueryOver& /
</ 0
Exam0 4
>4 5
(5 6
)6 7
.7 8
Right8 =
.= >
JoinQueryOver> K
<K L
UsersL Q
>Q R
(R S
xS T
=>U W
xX Y
.Y Z
ExamStudentsZ f
)f g
. 
Where 
( 
c 
=> 
c 
. 
id  
==! #

loggedUser$ .
.. /
id/ 1
)1 2
.2 3
List3 7
(7 8
)8 9
.9 :
ToList: @
(@ A
)A B
;B C
if 
( 
result 
[ 
$num 
] 
== 
null !
)! "
{ 
result 
[ 
$num 
] 
= 
new 
Exam  $
{ 
id 
= 
- 
$num 
}   
;   
}!! 
List## 
<## 

ExamResult## 
>## 
examResults## (
=##) *
new##+ .
List##/ 3
<##3 4

ExamResult##4 >
>##> ?
(##? @
)##@ A
;##A B
examResults$$ 
=$$ 
Database$$ "
.$$" #
Session$$# *
.$$* +
Query$$+ 0
<$$0 1

ExamResult$$1 ;
>$$; <
($$< =
)$$= >
.$$> ?
Where$$? D
($$D E
e$$E F
=>$$G I
e$$J K
.$$K L
student$$L S
.$$S T
id$$T V
==$$W Y

loggedUser$$Z d
.$$d e
id$$e g
)$$g h
.$$h i
ToList$$i o
($$o p
)$$p q
;$$q r
if%% 
(%% 
examResults%% 
.%% 
Count%% !
==%%" $
$num%%% &
)%%& '
{&& 
examResults'' 
.'' 
Add'' 
(''  
new''  #

ExamResult''$ .
{(( 
id)) 
=)) 
-)) 
$num)) 
,)) 
exam** 
=** 
new** 
Exam** #
{++ 
id,, 
=,, 
-,, 
$num,, 
,,,  
}-- 
,-- 
}.. 
).. 
;.. 
}// 
List00 
<00 
Exam00 
>00 
examAvailableNow00 '
=00( )
new00* -
List00. 2
<002 3
Exam003 7
>007 8
(008 9
)009 :
;00: ;
if22 
(22 
result22 
[22 
$num22 
]22 
.22 
id22 
!=22 
-22  !
$num22! "
)22" #
{33 
foreach44 
(44 
var44 
exam44 !
in44" $
result44% +
)44+ ,
{55 
var66 
_exam66 
=66 
Database66  (
.66( )
Session66) 0
.660 1
Load661 5
<665 6
Exam666 :
>66: ;
(66; <
exam66< @
.66@ A
id66A C
)66C D
;66D E
var88 
exDate88 
=88  
_exam88! &
.88& '
	examStart88' 0
.880 1
Date881 5
;885 6
var99 
nowDate99 
=99  !
DateTime99" *
.99* +
Now99+ .
.99. /
Date99/ 3
;993 4
var;; 
exTimeOfDay;; #
=;;$ %
_exam;;& +
.;;+ ,
	examStart;;, 5
.;;5 6
	TimeOfDay;;6 ?
;;;? @
var<< 
nowTimeOfDay<< $
=<<% &
DateTime<<' /
.<</ 0
Now<<0 3
.<<3 4
	TimeOfDay<<4 =
;<<= >
if== 
(== 
_exam== 
.== 
	examStart== '
.==' (
Date==( ,
====- /
DateTime==0 8
.==8 9
Now==9 <
.==< =
Date=== A
&&==B D
(==E F
_exam==F K
.==K L
	examStart==L U
.==U V

AddMinutes==V `
(==` a
$num==a c
)==c d
>===e g
DateTime==h p
.==p q
Now==q t
)==t u
&&==v x
(==y z
_exam==z 
.	== Ä
	examStart
==Ä â
<=
==ä å
DateTime
==ç ï
.
==ï ñ
Now
==ñ ô
)
==ô ö
)
==ö õ
{>> 
examAvailableNow?? (
.??( )
Add??) ,
(??, -
exam??- 1
)??1 2
;??2 3
}@@ 
}AA 
}BB 
ifDD 
(DD 
examAvailableNowDD 
.DD  
CountDD  %
==DD& (
$numDD) *
)DD* +
{EE 
examAvailableNowFF  
.FF  !
AddFF! $
(FF$ %
newFF% (
ExamFF) -
{FF. /
idGG 
=GG 
-GG 
$numGG 
,GG 
}HH 
)HH 
;HH 
}II 
returnKK 
ViewKK 
(KK 
newKK 
OnlineSinavKK '
.KK' (
AreasKK( -
.KK- .
StudentKK. 5
.KK5 6

ViewModelsKK6 @
.KK@ A
StudentIndexShowKKA Q
{LL 
studentExamsMM 
=MM 
examAvailableNowMM /
,MM/ 0

examResultNN 
=NN 
examResultsNN (
}OO 
)OO 
;OO 
}PP 	
publicRR 
ActionResultRR 
ShowQuestionsRR )
(RR) *
intRR* -
exam_idRR. 5
)RR5 6
{SS 	
UsersTT 
currentUserTT 
=TT 
newTT  #
UsersTT$ )
(TT) *
)TT* +
;TT+ ,
currentUserUU 
=UU 
DatabaseUU "
.UU" #
SessionUU# *
.UU* +
QueryUU+ 0
<UU0 1
UsersUU1 6
>UU6 7
(UU7 8
)UU8 9
.UU9 :
FirstOrDefaultUU: H
(UUH I
sUUI J
=>UUK M
sUUN O
.UUO P
SchoolNumberUUP \
==UU] _
HttpContextUU` k
.UUk l
UserUUl p
.UUp q
IdentityUUq y
.UUy z
NameUUz ~
)UU~ 
;	UU Ä
varWW 
resultWW 
=WW 
DatabaseWW !
.WW! "
SessionWW" )
.WW) *
	QueryOverWW* 3
<WW3 4
	QuestionsWW4 =
>WW= >
(WW> ?
)WW? @
.WW@ A
RightWWA F
.WWF G
JoinQueryOverWWG T
<WWT U
ExamWWU Y
>WWY Z
(WWZ [
xWW[ \
=>WW] _
xWW` a
.WWa b
ExamQuestionsWWb o
)WWo p
.XX 
WhereXX 
(XX 
cXX 
=>XX 
cXX 
.XX 
idXX  
==XX! #
exam_idXX$ +
)XX+ ,
.XX, -
ListXX- 1
(XX1 2
)XX2 3
;XX3 4
ExamZZ 
examZZ 
=ZZ 
newZZ 
ExamZZ  
(ZZ  !
)ZZ! "
;ZZ" #
exam[[ 
=[[ 
Database[[ 
.[[ 
Session[[ #
.[[# $
Load[[$ (
<[[( )
Exam[[) -
>[[- .
([[. /
exam_id[[/ 6
)[[6 7
;[[7 8
return]] 
View]] 
(]] 
new]] 

ViewModels]] &
.]]& '
Exam]]' +
{^^ 
	questions__ 
=__ 
result__ "
,__" #
examduration`` 
=`` 
Int32`` $
.``$ %
Parse``% *
(``* +
exam``+ /
.``/ 0
ExamDuration``0 <
)``< =
,``= >
studentExamIDaa 
=aa 
exam_idaa  '
,aa' (
	studentIDbb 
=bb 
currentUserbb '
.bb' (
idbb( *
}cc 
)cc 
;cc 
}dd 	
publicff 
structff 
question_answerff %
{gg 	
publichh 
stringhh 
question_numberhh )
;hh) *
publicii 
charii 
answerii 
;ii 
}jj 	
publicll 
voidll 
SendExamResultll "
(ll" #
intll# &
examidll' -
,ll- .
intll. 1
	studentidll2 ;
,ll; <
stringll= C
answersllD K
)llK L
{mm 	
Examnn 
thisExamnn 
=nn 
newnn 
Examnn  $
(nn$ %
)nn% &
;nn& '
Usersoo 
thisStudentoo 
=oo 
newoo  #
Usersoo$ )
(oo) *
)oo* +
;oo+ ,
thisExampp 
=pp 
Databasepp 
.pp  
Sessionpp  '
.pp' (
Loadpp( ,
<pp, -
Exampp- 1
>pp1 2
(pp2 3
examidpp3 9
)pp9 :
;pp: ;
thisStudentqq 
=qq 
Databaseqq "
.qq" #
Sessionqq# *
.qq* +
Loadqq+ /
<qq/ 0
Usersqq0 5
>qq5 6
(qq6 7
	studentidqq7 @
)qq@ A
;qqA B
stringrr 
_students_answersrr $
=rr% &
$strrr' )
;rr) *
stringss 
_correct_answersss #
=ss$ %
$strss& (
;ss( )
varuu 
examDetailsArrayuu  
=uu! "
JsonConvertuu# .
.uu. /
DeserializeObjectuu/ @
<uu@ A
ListuuA E
<uuE F
GetFormDatauuF Q
>uuQ R
>uuR S
(uuS T
answersuuT [
)uu[ \
;uu\ ]
intww 
totalResultww 
=ww 
$numww 
,ww  
point_per_questionxx "
=xx# $
(xx% &
$numxx& )
/xx* +
thisExamxx, 4
.xx4 5
ExamQuestionsxx5 B
.xxB C
CountxxC H
)xxH I
;xxI J
question_answerzz 
[zz 
]zz 
questionsAndAnswerszz 1
=zz2 3
newzz4 7
question_answerzz8 G
[zzG H
examDetailsArrayzzH X
.zzX Y
CountzzY ^
]zz^ _
;zz_ `
for|| 
(|| 
int|| 
i|| 
=|| 
$num|| 
;|| 
i|| 
<|| 
examDetailsArray||  0
.||0 1
Count||1 6
;||6 7
i||8 9
++||9 ;
)||; <
{}} 
questionsAndAnswers~~ #
[~~# $
i~~$ %
]~~% &
.~~& '
answer~~' -
=~~. /
examDetailsArray~~0 @
[~~@ A
i~~A B
]~~B C
.~~C D
Name~~D H
.~~H I
ToString~~I Q
(~~Q R
)~~R S
[~~S T
examDetailsArray~~T d
[~~d e
i~~e f
]~~f g
.~~g h
Name~~h l
.~~l m
Length~~m s
-~~t u
$num~~v w
]~~w x
;~~x y
questionsAndAnswers #
[# $
i$ %
]% &
.& '
question_number' 6
=7 8
examDetailsArray9 I
[I J
iJ K
]K L
.L M
NameM Q
.Q R
ToStringR Z
(Z [
)[ \
.\ ]
TrimEnd] d
(d e
$chare h
,h i
$chari l
,l m
$charm p
,p q
$charq t
,t u
$charu x
)x y
;y z
}
ÄÄ 
foreach
ÇÇ 
(
ÇÇ 
var
ÇÇ 
answer
ÇÇ 
in
ÇÇ !!
questionsAndAnswers
ÇÇ" 5
)
ÇÇ5 6
{
ÉÉ 
var
ÑÑ %
getQuestionFromDatabase
ÑÑ +
=
ÑÑ, -
Database
ÑÑ. 6
.
ÑÑ6 7
Session
ÑÑ7 >
.
ÑÑ> ?
Load
ÑÑ? C
<
ÑÑC D
	Questions
ÑÑD M
>
ÑÑM N
(
ÑÑN O
Convert
ÑÑO V
.
ÑÑV W
ToInt32
ÑÑW ^
(
ÑÑ^ _
answer
ÑÑ_ e
.
ÑÑe f
question_number
ÑÑf u
)
ÑÑu v
)
ÑÑv w
;
ÑÑw x
_students_answers
ÖÖ !
+=
ÖÖ" $
answer
ÖÖ% +
.
ÖÖ+ ,
answer
ÖÖ, 2
+
ÖÖ3 4
$str
ÖÖ4 7
;
ÖÖ7 8
_correct_answers
ÜÜ  
+=
ÜÜ! #%
getQuestionFromDatabase
ÜÜ$ ;
.
ÜÜ; <

TrueAnswer
ÜÜ< F
+
ÜÜG H
$str
ÜÜI L
;
ÜÜL M
if
áá 
(
áá %
getQuestionFromDatabase
áá *
.
áá* +

TrueAnswer
áá+ 5
.
áá5 6
ToString
áá6 >
(
áá> ?
)
áá? @
.
áá@ A
ToUpper
ááA H
(
ááH I
)
ááI J
==
ááK M
answer
ááN T
.
ááT U
answer
ááU [
.
áá[ \
ToString
áá\ d
(
áád e
)
ááe f
.
ááf g
ToUpper
áág n
(
áán o
)
ááo p
)
ááp q
{
àà 
totalResult
ââ 
+=
ââ  " 
point_per_question
ââ# 5
;
ââ5 6
}
ää 
}
ãã 
if
çç 
(
çç 
totalResult
çç 
/
çç  
point_per_question
çç 0
==
çç1 3
thisExam
çç4 <
.
çç< =
ExamQuestions
çç= J
.
ççJ K
Count
ççK P
)
ççP Q
totalResult
éé 
=
éé 
$num
éé !
;
éé! "

ExamResult
êê 
exam_result
êê "
=
êê# $
new
êê% (

ExamResult
êê) 3
{
êê4 5
exam
ëë 
=
ëë 
thisExam
ëë 
,
ëë  
student
íí 
=
íí 
thisStudent
íí %
,
íí% &
students_answers
ìì  
=
ìì! "
_students_answers
ìì# 4
.
ìì4 5
TrimEnd
ìì5 <
(
ìì< =
$char
ìì= @
)
ìì@ A
,
ììA B
correct_answers
îî 
=
îî  !
_correct_answers
îî" 2
.
îî2 3
TrimEnd
îî3 :
(
îî: ;
$char
îî; >
)
îî> ?
,
îî? @
teacher
ïï 
=
ïï 
thisExam
ïï "
.
ïï" #
teacher
ïï# *
,
ïï* +
result
ññ 
=
ññ 
totalResult
ññ $
}
óó 
;
óó 
Database
ôô 
.
ôô 
Session
ôô 
.
ôô 
Save
ôô !
(
ôô! "
exam_result
ôô" -
)
ôô- .
;
ôô. /
Database
öö 
.
öö 
Session
öö 
.
öö 
Flush
öö "
(
öö" #
)
öö# $
;
öö$ %
}
õõ	 

public
ùù 
ActionResult
ùù 
Logout
ùù "
(
ùù" #
)
ùù# $
{
ûû 	!
FormsAuthentication
üü 
.
üü  
SignOut
üü  '
(
üü' (
)
üü( )
;
üü) *
return
†† 
RedirectToRoute
†† "
(
††" #
$str
††# )
)
††) *
;
††* +
}
°° 	
}
¢¢ 
}££ ¶	
cC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Student\StudentAreaRegistration.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Student #
{ 
public 

class #
StudentAreaRegistration (
:) *
AreaRegistration+ ;
{ 
public 
override 
string 
AreaName '
{ 	
get		 
{

 
return 
$str  
;  !
} 
} 	
public 
override 
void 
RegisterArea )
() *#
AreaRegistrationContext* A
contextB I
)I J
{ 	
context 
. 
MapRoute 
( 
$str !
,! "
$str 4
,4 5
new 
{ 
action 
= 
$str &
,& '
id( *
=+ ,
UrlParameter- 9
.9 :
Optional: B
}C D
) 
; 
} 	
} 
} ÿ
[C:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Student\ViewModels\Exam.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Student #
.# $

ViewModels$ .
{		 
public

 

class

 
Exam

 
{ 
public 
int 
examduration 
{  !
get" %
;% &
set' *
;* +
}, -
public 
IList 
< 
	Questions 
> 
	questions  )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
int 
studentExamID  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
	studentID 
{ 
get "
;" #
set$ '
;' (
}) *
} 
public 

class 
ForEachQuestion  
{ 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
string 
question_string %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
A 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
B 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
C 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
D 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
E 
{ 
get 
; 
set "
;" #
}$ %
public 
bool 
correct_answer "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
counter 
{ 
get  
;  !
set" %
;% &
}' (
public 
	Questions 
question !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
}!! Ô
^C:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Student\ViewModels\Student.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Student #
.# $

ViewModels$ .
{ 
public		 

class		 
StudentIndexShow		 !
{

 
public 
List 
< 
Models 
. 
Exam 
>  
studentExams! -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
List 
< 

ExamResult 
> 

examResult  *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
int 
counter 
{ 
get 
{ 
return 
counter 
; 
} 
set 
{ 
counter 
= 
value 
;  
} 
} 	
} 
} Âß
fC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Teacher\Controllers\ExamController.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Teacher #
.# $
Controllers$ /
{ 
[ 
	Authorize 
( 
Roles 
= 
$str  
)  !
]! "
public 

class 
ExamController 
:  !

Controller" ,
{ 
public 
ActionResult 
Index !
(! "
)" #
{ 	
Users 
_teacher 
= 
new  
Users! &
(& '
)' (
;( )
IList 
< 
Exam 
> 
thisTeachersExams )
;) *
_teacher 
= 
Database 
.  
Session  '
.' (
Query( -
<- .
Users. 3
>3 4
(4 5
)5 6
.6 7
FirstOrDefault7 E
(E F
uF G
=>H J
uK L
.L M
SchoolNumberM Y
==Z \
HttpContext] h
.h i
Useri m
.m n
Identityn v
.v w
Namew {
){ |
;| }
thisTeachersExams 
= 
Database  (
.( )
Session) 0
.0 1
Query1 6
<6 7
Exam7 ;
>; <
(< =
)= >
.> ?
Where? D
(D E
eE F
=>G I
eJ K
.K L
teacherL S
.S T
idT V
==W Y
_teacherZ b
.b c
idc e
)e f
.f g
ToListg m
(m n
)n o
;o p
return   
View   
(   
new   !
TeacherIndexViewModel   1
{!! 
exams"" 
="" 
thisTeachersExams"" )
,"") *
teacher## 
=## 
_teacher## "
}$$ 
)$$ 
;$$ 
}%% 	
public'' 
ActionResult'' 

CreateExam'' &
(''& '
)''' (
{(( 	
return)) 
View)) 
()) 
))) 
;)) 
}** 	
public-- 
ActionResult-- 
EditExam-- $
(--$ %
int--% (
examID--) /
)--/ 0
{.. 	
var// 
exam// 
=// 
new// 
Exam// 
(//  
)//  !
;//! "
exam11 
=11 
Database11 
.11 
Session11 #
.11# $
Load11$ (
<11( )
Exam11) -
>11- .
(11. /
examID11/ 5
)115 6
;116 7
var33 
dateSplitted33 
=33 
exam33 #
.33# $
	examStart33$ -
.33- .
ToString33. 6
(336 7
$str337 L
)33L M
;33M N
string55 
day55 
,55 
month55 
,55 
hour55 !
,55! "
minute55" (
;55( )
day77 
=77 
exam77 
.77 
	examStart77  
.77  !
Day77! $
.77$ %
ToString77% -
(77- .
)77. /
;77/ 0
month88 
=88 
exam88 
.88 
	examStart88 "
.88" #
Month88# (
.88( )
ToString88) 1
(881 2
)882 3
;883 4
hour99 
=99 
exam99 
.99 
	examStart99 !
.99! "
Hour99" &
.99& '
ToString99' /
(99/ 0
)990 1
;991 2
minute:: 
=:: 
exam:: 
.:: 
	examStart:: #
.::# $
Minute::$ *
.::* +
ToString::+ 3
(::3 4
)::4 5
;::5 6
if<< 
(<< 
day<< 
.<< 
Length<< 
==<< 
$num<< 
)<< 
{== 
day>> 
=>> 
$str>> 
+>> 
day>> 
;>>  
}?? 
if@@ 
(@@ 
month@@ 
.@@ 
Length@@ 
==@@ 
$num@@  !
)@@! "
{AA 
monthBB 
=BB 
$strBB 
+BB 
monthBB #
;BB# $
}CC 
ifDD 
(DD 
hourDD 
.DD 
LengthDD 
==DD 
$numDD  
)DD  !
{EE 
hourFF 
=FF 
$strFF 
+FF 
hourFF !
;FF! "
}GG 
ifHH 
(HH 
minuteHH 
.HH 
LengthHH 
==HH  
$numHH! "
)HH" #
{II 
minuteJJ 
=JJ 
$strJJ 
+JJ 
minuteJJ %
;JJ% &
}KK 
stringMM 

dateStringMM 
=MM 
examMM  $
.MM$ %
examDateMM% -
.MM- .
ToStringMM. 6
(MM6 7
$strMM7 C
)MMC D
+MME F
$strMMG J
+MMK L
hourMMM Q
+MMQ R
$strMMR U
+MMU V
minuteMMV \
+MM\ ]
$strMM] b
;MMb c
varQQ 
abcdeQQ 
=QQ 
DateTimeQQ  
.QQ  !

ParseExactQQ! +
(QQ+ ,
examQQ, 0
.QQ0 1
	examStartQQ1 :
.QQ: ;
ToStringQQ; C
(QQC D
$strQQD V
)QQV W
,QQW X
$strQQY k
,QQk l
nullQQm q
)QQq r
;QQr s
returnSS 
ViewSS 
(SS 
newSS 
EditExamIndexSS )
{TT 
selectedExamUU 
=UU 
examUU #
,UU# $
fullDateVV 
=VV 
DateTimeVV #
.VV# $

ParseExactVV$ .
(VV. /
examVV/ 3
.VV3 4
	examStartVV4 =
.VV= >
ToStringVV> F
(VVF G
$strVVG Y
)VVY Z
,VVZ [
$strVV[ m
,VVm n
nullVVo s
)VVs t
}WW 
)WW 
;WW 
}XX 	
[ZZ 	
HttpPostZZ	 
]ZZ 
public[[ 
void[[ 
EditExam[[ 
([[ 
string[[ #
formdata[[$ ,
,[[, -
string[[. 4
examDetails[[5 @
,[[@ A
int[[B E
examID[[F L
)[[L M
{\\ 	
Users]] 
currentTeacher]]  
=]]! "
new]]# &
Users]]' ,
(]], -
)]]- .
;]]. /
Exam^^ 

examToEdit^^ 
=^^ 
new^^ !
Exam^^" &
(^^& '
)^^' (
;^^( )
Exam__ 
examBeforeEdit__ 
=__  !
new__" %
Exam__& *
(__* +
)__+ ,
;__, -

examToEdit`` 
=`` 
Database`` !
.``! "
Session``" )
.``) *
Load``* .
<``. /
Exam``/ 3
>``3 4
(``4 5
examID``5 ;
)``; <
;``< =
IListbb 
<bb 
Modelsbb 
.bb 
	Questionsbb "
>bb" #!
currentExamsQuestionsbb$ 9
;bb9 :
vardd 
questionsArraydd 
=dd  
JsonConvertdd! ,
.dd, -
DeserializeObjectdd- >
<dd> ?
Listdd? C
<ddC D
FormDataddD L
>ddL M
>ddM N
(ddN O
formdataddO W
)ddW X
;ddX Y
varee 
examDetailsArrayee  
=ee! "
JsonConvertee# .
.ee. /
DeserializeObjectee/ @
<ee@ A
ListeeA E
<eeE F
GetFormDataeeF Q
>eeQ R
>eeR S
(eeS T
examDetailseeT _
)ee_ `
;ee` a
vargg 
examDurationgg 
=gg 
examDetailsArraygg /
[gg/ 0
$numgg0 1
]gg1 2
.gg2 3
Valuegg3 8
;gg8 9
stringii 
[ii 
]ii 
examDateStrii  
=ii! "
examDetailsArrayii# 3
[ii3 4
$numii4 5
]ii5 6
.ii6 7
Valueii7 <
.ii< =
ToStringii= E
(iiE F
)iiF G
.iiG H
SplitiiH M
(iiM N
$chariiN Q
)iiQ R
;iiR S
DateTimell 
examFullDatell !
;ll! "
stringmm 

dateStringmm 
;mm 
ifoo 
(oo 
examDateStroo 
.oo 
Countoo !
<oo! "
stringoo" (
>oo( )
(oo) *
)oo* +
==oo, .
$numoo/ 0
)oo0 1
{pp 
examFullDateqq 
=qq 
Convertqq &
.qq& '

ToDateTimeqq' 1
(qq1 2
examDateStrqq2 =
[qq= >
$numqq> ?
]qq? @
)qq@ A
;qqA B

dateStringrr 
=rr 
examFullDaterr )
.rr) *
ToStringrr* 2
(rr2 3
$strrr3 E
)rrE F
;rrF G
examFullDatess 
=ss 
DateTimess '
.ss' (

ParseExactss( 2
(ss2 3

dateStringss3 =
,ss= >
$strss> P
,ssP Q
nullssR V
)ssV W
;ssW X
}tt 
elseuu 
{uu 
varvv 
degiskenvv 
=vv 
examDateStrvv *
[vv* +
$numvv+ ,
]vv, -
.vv- .
TrimEndvv. 5
(vv5 6
$charvv6 9
)vv9 :
+vv; <
$strvv= @
+vvA B
examDateStrvvC N
[vvN O
$numvvO P
]vvP Q
.vvQ R
	TrimStartvvR [
(vv[ \
$charvv\ _
)vv_ `
;vv` a
examFullDatexx 
=xx 
DateTimexx '
.xx' (

ParseExactxx( 2
(xx2 3
degiskenxx3 ;
,xx; <
$strxx< N
,xxN O
nullxxO S
)xxS T
;xxT U

dateStringyy 
=yy 
examFullDateyy )
.yy) *
ToStringyy* 2
(yy2 3
$stryy3 E
)yyE F
;yyF G
}zz !
currentExamsQuestions|| !
=||" #

examToEdit||$ .
.||. /
ExamQuestions||/ <
;||< =
int~~  
currentQuestionCount~~ $
=~~% &!
currentExamsQuestions~~' <
.~~< =
Count~~= B
;~~B C
for 
( 
int 
i 
= 
$num 
; 
i 
<  
currentQuestionCount  4
;4 5
i6 7
++7 9
)9 :
{
ÄÄ 
var
ÅÅ 
question
ÅÅ 
=
ÅÅ #
currentExamsQuestions
ÅÅ 4
[
ÅÅ4 5
$num
ÅÅ5 6
]
ÅÅ6 7
;
ÅÅ7 8#
currentExamsQuestions
ÇÇ %
.
ÇÇ% &
Remove
ÇÇ& ,
(
ÇÇ, -
question
ÇÇ- 5
)
ÇÇ5 6
;
ÇÇ6 7
}
ÉÉ 
Database
ÖÖ 
.
ÖÖ 
Session
ÖÖ 
.
ÖÖ 
Update
ÖÖ #
(
ÖÖ# $

examToEdit
ÖÖ$ .
)
ÖÖ. /
;
ÖÖ/ 0
foreach
áá 
(
áá 
var
áá 
question
áá !
in
áá" $
questionsArray
áá% 3
)
áá3 4
{
àà 
Models
ââ 
.
ââ 
	Questions
ââ  
toAdd
ââ! &
=
ââ' (
new
ââ) ,
Models
ââ- 3
.
ââ3 4
	Questions
ââ4 =
{
ää 
	QuestName
ãã 
=
ãã 
question
ãã  (
.
ãã( )
question_string
ãã) 8
,
ãã8 9

TrueAnswer
åå 
=
åå  
question
åå! )
.
åå) *
correct_answer
åå* 8
,
åå8 9
Answer1
çç 
=
çç 
question
çç &
.
çç& '
A
çç' (
,
çç( )
Answer2
éé 
=
éé 
question
éé &
.
éé& '
B
éé' (
,
éé( )
Answer3
èè 
=
èè 
question
èè &
.
èè& '
C
èè' (
,
èè( )
Answer4
êê 
=
êê 
question
êê &
.
êê& '
D
êê' (
,
êê( )
Answer5
ëë 
=
ëë 
question
ëë &
.
ëë& '
E
ëë' (
,
ëë( )
dept_id
íí 
=
íí 

examToEdit
íí (
.
íí( )

Department
íí) 3
}
ìì 
;
ìì 

examToEdit
îî 
.
îî 
ExamQuestions
îî (
.
îî( )
Add
îî) ,
(
îî, -
toAdd
îî- 2
)
îî2 3
;
îî3 4
Database
ïï 
.
ïï 
Session
ïï  
.
ïï  !
Save
ïï! %
(
ïï% &
toAdd
ïï& +
)
ïï+ ,
;
ïï, -
}
ññ 
;
ññ 
var
òò 
deneme
òò 
=
òò 
DateTime
òò !
.
òò! "

ParseExact
òò" ,
(
òò, -
examFullDate
òò- 9
.
òò9 :
ToString
òò: B
(
òòB C
$str
òòC O
)
òòO P
,
òòP Q
$str
òòR ^
,
òò^ _
null
òò` d
)
òòd e
.
òòe f
ToShortDateString
òòf w
(
òòw x
)
òòx y
;
òòy z

examToEdit
öö 
.
öö 
ExamName
öö 
=
öö  !
examDetailsArray
öö" 2
[
öö2 3
$num
öö3 4
]
öö4 5
.
öö5 6
Value
öö6 ;
;
öö; <

examToEdit
õõ 
.
õõ 
ExamDuration
õõ #
=
õõ$ %
examDetailsArray
õõ& 6
[
õõ6 7
$num
õõ7 8
]
õõ8 9
.
õõ9 :
Value
õõ: ?
;
õõ? @

examToEdit
úú 
.
úú 
examDate
úú 
=
úú  !
Convert
úú" )
.
úú) *

ToDateTime
úú* 4
(
úú4 5
deneme
úú5 ;
)
úú; <
;
úú< =

examToEdit
ùù 
.
ùù 
	examStart
ùù  
=
ùù! "
examFullDate
ùù# /
;
ùù/ 0

examToEdit
üü 
.
üü 
examEnd
üü 
=
üü  
examFullDate
üü! -
.
üü- .

AddMinutes
üü. 8
(
üü8 9
Convert
üü9 @
.
üü@ A
ToInt32
üüA H
(
üüH I
examDuration
üüI U
)
üüU V
)
üüV W
;
üüW X
var
§§ 
examsDetails
§§ 
=
§§ 

examToEdit
§§ )
;
§§) *
var
•• 
allQuestions
•• 
=
•• 

examToEdit
•• )
.
••) *
ExamQuestions
••* 7
;
••7 8
Database
ßß 
.
ßß 
Session
ßß 
.
ßß 
Update
ßß #
(
ßß# $

examToEdit
ßß$ .
)
ßß. /
;
ßß/ 0
Database
®® 
.
®® 
Session
®® 
.
®® 
Flush
®® "
(
®®" #
)
®®# $
;
®®$ %
}
©© 	
[
´´ 	
HttpPost
´´	 
]
´´ 
public
¨¨ 
void
¨¨ 

DeleteExam
¨¨ 
(
¨¨ 
int
¨¨ "
examID
¨¨# )
)
¨¨) *
{
≠≠ 	
Exam
ÆÆ 
examToDelete
ÆÆ 
=
ÆÆ 
new
ÆÆ  #
Exam
ÆÆ$ (
(
ÆÆ( )
)
ÆÆ) *
;
ÆÆ* +

Department
ØØ 
dept
ØØ 
=
ØØ 
new
ØØ !

Department
ØØ" ,
(
ØØ, -
)
ØØ- .
;
ØØ. /
examToDelete
±± 
=
±± 
Database
±± #
.
±±# $
Session
±±$ +
.
±±+ ,
Load
±±, 0
<
±±0 1
Exam
±±1 5
>
±±5 6
(
±±6 7
examID
±±7 =
)
±±= >
;
±±> ?
dept
≤≤ 
.
≤≤ 
id
≤≤ 
=
≤≤ 
examToDelete
≤≤ "
.
≤≤" #

Department
≤≤# -
.
≤≤- .
id
≤≤. 0
;
≤≤0 1
int
≥≥ 
totalQuestions
≥≥ 
=
≥≥  
examToDelete
≥≥! -
.
≥≥- .
ExamQuestions
≥≥. ;
.
≥≥; <
Count
≥≥< A
;
≥≥A B
for
µµ 
(
µµ 
int
µµ 
i
µµ 
=
µµ 
$num
µµ 
;
µµ 
i
µµ 
<
µµ 
totalQuestions
µµ  .
;
µµ. /
i
µµ0 1
++
µµ1 3
)
µµ3 4
{
∂∂ 
var
∑∑ 
question
∑∑ 
=
∑∑ 
examToDelete
∑∑ +
.
∑∑+ ,
ExamQuestions
∑∑, 9
[
∑∑9 :
$num
∑∑: ;
]
∑∑; <
;
∑∑< =
examToDelete
∏∏ 
.
∏∏ 
ExamQuestions
∏∏ *
.
∏∏* +
Remove
∏∏+ 1
(
∏∏1 2
question
∏∏2 :
)
∏∏: ;
;
∏∏; <
Database
ππ 
.
ππ 
Session
ππ  
.
ππ  !
Delete
ππ! '
(
ππ' (
question
ππ( 0
)
ππ0 1
;
ππ1 2
}
∫∫ 
Database
ªª 
.
ªª 
Session
ªª 
.
ªª 
Delete
ªª #
(
ªª# $
examToDelete
ªª$ 0
)
ªª0 1
;
ªª1 2
Database
ºº 
.
ºº 
Session
ºº 
.
ºº 
Flush
ºº "
(
ºº" #
)
ºº# $
;
ºº$ %
}
ΩΩ 	
[
øø 	
HttpPost
øø	 
]
øø 
public
¿¿ 
void
¿¿ 

CreateExam
¿¿ 
(
¿¿ 
string
¿¿ %
formdata
¿¿& .
,
¿¿. /
string
¿¿0 6
examDetails
¿¿7 B
)
¿¿B C
{
¡¡ 	
Users
¬¬ 
currentTeacher
¬¬  
=
¬¬! "
new
¬¬# &
Users
¬¬' ,
(
¬¬, -
)
¬¬- .
;
¬¬. /
var
ƒƒ 
questionsArray
ƒƒ 
=
ƒƒ  
JsonConvert
ƒƒ! ,
.
ƒƒ, -
DeserializeObject
ƒƒ- >
<
ƒƒ> ?
List
ƒƒ? C
<
ƒƒC D
FormData
ƒƒD L
>
ƒƒL M
>
ƒƒM N
(
ƒƒN O
formdata
ƒƒO W
)
ƒƒW X
;
ƒƒX Y
var
≈≈ 
examDetailsArray
≈≈  
=
≈≈! "
JsonConvert
≈≈# .
.
≈≈. /
DeserializeObject
≈≈/ @
<
≈≈@ A
List
≈≈A E
<
≈≈E F
GetFormData
≈≈F Q
>
≈≈Q R
>
≈≈R S
(
≈≈S T
examDetails
≈≈T _
)
≈≈_ `
;
≈≈` a
string
«« 
[
«« 
]
«« 
dateTime
«« 
=
«« 
examDetailsArray
««  0
[
««0 1
$num
««1 2
]
««2 3
.
««3 4
Value
««4 9
.
««9 :
ToString
««: B
(
««B C
)
««C D
.
««D E
Split
««E J
(
««J K
$char
««K N
)
««N O
;
««O P
string
»» 
[
»» 
]
»» 
	examStart
»» 
=
»»  
dateTime
»»! )
[
»») *
$num
»»* +
]
»»+ ,
.
»», -
	TrimStart
»»- 6
(
»»6 7
$char
»»7 :
)
»»: ;
.
»»; <
Split
»»< A
(
»»A B
$char
»»B E
)
»»E F
;
»»F G
currentTeacher
   
=
   
Database
   %
.
  % &
Session
  & -
.
  - .
Query
  . 3
<
  3 4
Users
  4 9
>
  9 :
(
  : ;
)
  ; <
.
  < =
FirstOrDefault
  = K
(
  K L
u
  L M
=>
  N P
u
  Q R
.
  R S
SchoolNumber
  S _
==
  ` b
HttpContext
  c n
.
  n o
User
  o s
.
  s t
Identity
  t |
.
  | }
Name  } Å
)  Å Ç
;  Ç É
var
ÕÕ 
examDuration
ÕÕ 
=
ÕÕ 
examDetailsArray
ÕÕ /
[
ÕÕ/ 0
$num
ÕÕ0 1
]
ÕÕ1 2
.
ÕÕ2 3
Value
ÕÕ3 8
;
ÕÕ8 9
var
œœ 
hour
œœ 
=
œœ 
Convert
œœ 
.
œœ 
ToInt32
œœ &
(
œœ& '
examDuration
œœ' 3
)
œœ3 4
/
œœ5 6
$num
œœ7 9
;
œœ9 :
var
–– 
minutes
–– 
=
–– 
Convert
–– !
.
––! "
ToInt32
––" )
(
––) *
examDuration
––* 6
)
––6 7
%
––8 9
$num
––: <
;
––< =
var
”” 
examDate
”” 
=
”” 
DateTime
”” #
.
””# $

ParseExact
””$ .
(
””. /
dateTime
””/ 7
[
””7 8
$num
””8 9
]
””9 :
.
””: ;
TrimEnd
””; B
(
””B C
$char
””C F
)
””F G
,
””G H
$str
””I U
,
””U V
null
””W [
)
””[ \
;
””\ ]
var
‘‘ 

examStartt
‘‘ 
=
‘‘ 
DateTime
‘‘ %
.
‘‘% &

ParseExact
‘‘& 0
(
‘‘0 1
(
‘‘1 2
dateTime
‘‘2 :
[
‘‘: ;
$num
‘‘; <
]
‘‘< =
.
‘‘= >
TrimEnd
‘‘> E
(
‘‘E F
$char
‘‘F I
)
‘‘I J
+
‘‘K L
$str
‘‘M P
+
‘‘Q R
dateTime
‘‘S [
[
‘‘[ \
$num
‘‘\ ]
]
‘‘] ^
.
‘‘^ _
TrimEnd
‘‘_ f
(
‘‘f g
$char
‘‘g j
)
‘‘j k
.
‘‘k l
	TrimStart
‘‘l u
(
‘‘u v
$char
‘‘v y
)
‘‘y z
)
‘‘z {
,
‘‘{ |
$str‘‘} è
,‘‘è ê
null‘‘ë ï
)‘‘ï ñ
;‘‘ñ ó
DateTime
÷÷ 
examEndTime
÷÷  
;
÷÷  !
examEndTime
◊◊ 
=
◊◊ 

examStartt
◊◊ $
.
◊◊$ %

AddMinutes
◊◊% /
(
◊◊/ 0
Convert
◊◊0 7
.
◊◊7 8
ToDouble
◊◊8 @
(
◊◊@ A
examDuration
◊◊A M
)
◊◊M N
)
◊◊N O
;
◊◊O P
Exam
ŸŸ 
newExam
ŸŸ 
=
ŸŸ 
new
ŸŸ 
Exam
ŸŸ #
{
⁄⁄ 
ExamName
€€ 
=
€€ 
examDetailsArray
€€ +
[
€€+ ,
$num
€€, -
]
€€- .
.
€€. /
Value
€€/ 4
,
€€4 5
ExamDuration
‹‹ 
=
‹‹ 
examDetailsArray
‹‹ /
[
‹‹/ 0
$num
‹‹0 1
]
‹‹1 2
.
‹‹2 3
Value
‹‹3 8
,
‹‹8 9
examDate
›› 
=
›› 
DateTime
›› #
.
››# $

ParseExact
››$ .
(
››. /
dateTime
››/ 7
[
››7 8
$num
››8 9
]
››9 :
.
››: ;
TrimEnd
››; B
(
››B C
$char
››C F
)
››F G
,
››G H
$str
››I U
,
››U V
null
››W [
)
››[ \
,
››\ ]
	examStart
ﬁﬁ 
=
ﬁﬁ 
DateTime
ﬁﬁ $
.
ﬁﬁ$ %

ParseExact
ﬁﬁ% /
(
ﬁﬁ/ 0
(
ﬁﬁ0 1
dateTime
ﬁﬁ1 9
[
ﬁﬁ9 :
$num
ﬁﬁ: ;
]
ﬁﬁ; <
.
ﬁﬁ< =
TrimEnd
ﬁﬁ= D
(
ﬁﬁD E
$char
ﬁﬁE H
)
ﬁﬁH I
+
ﬁﬁJ K
$str
ﬁﬁL O
+
ﬁﬁP Q
dateTime
ﬁﬁR Z
[
ﬁﬁZ [
$num
ﬁﬁ[ \
]
ﬁﬁ\ ]
.
ﬁﬁ] ^
TrimEnd
ﬁﬁ^ e
(
ﬁﬁe f
$char
ﬁﬁf i
)
ﬁﬁi j
.
ﬁﬁj k
	TrimStart
ﬁﬁk t
(
ﬁﬁt u
$char
ﬁﬁu x
)
ﬁﬁx y
)
ﬁﬁy z
,
ﬁﬁz {
$strﬁﬁ| é
,ﬁﬁé è
nullﬁﬁê î
)ﬁﬁî ï
,ﬁﬁï ñ
examEnd
ﬂﬂ 
=
ﬂﬂ 
examEndTime
ﬂﬂ %
,
ﬂﬂ% &

Department
‡‡ 
=
‡‡ 
currentTeacher
‡‡ +
.
‡‡+ ,
depts
‡‡, 1
.
‡‡1 2
FirstOrDefault
‡‡2 @
(
‡‡@ A
)
‡‡A B
,
‡‡B C
teacher
·· 
=
·· 
currentTeacher
·· (
}
‚‚ 
;
‚‚ 
foreach
‰‰ 
(
‰‰ 
var
‰‰ 
question
‰‰ !
in
‰‰" $
questionsArray
‰‰% 3
)
‰‰3 4
{
ÂÂ 
Models
ÊÊ 
.
ÊÊ 
	Questions
ÊÊ  
toAdd
ÊÊ! &
=
ÊÊ' (
new
ÊÊ) ,
Models
ÊÊ- 3
.
ÊÊ3 4
	Questions
ÊÊ4 =
{
ÁÁ 
	QuestName
ËË 
=
ËË 
question
ËË  (
.
ËË( )
question_string
ËË) 8
,
ËË8 9

TrueAnswer
ÈÈ 
=
ÈÈ  
question
ÈÈ! )
.
ÈÈ) *
correct_answer
ÈÈ* 8
,
ÈÈ8 9
Answer1
ÍÍ 
=
ÍÍ 
question
ÍÍ &
.
ÍÍ& '
A
ÍÍ' (
,
ÍÍ( )
Answer2
ÎÎ 
=
ÎÎ 
question
ÎÎ &
.
ÎÎ& '
B
ÎÎ' (
,
ÎÎ( )
Answer3
ÏÏ 
=
ÏÏ 
question
ÏÏ &
.
ÏÏ& '
C
ÏÏ' (
,
ÏÏ( )
Answer4
ÌÌ 
=
ÌÌ 
question
ÌÌ &
.
ÌÌ& '
D
ÌÌ' (
,
ÌÌ( )
Answer5
ÓÓ 
=
ÓÓ 
question
ÓÓ &
.
ÓÓ& '
E
ÓÓ' (
,
ÓÓ( )
dept_id
ÔÔ 
=
ÔÔ 
newExam
ÔÔ %
.
ÔÔ% &

Department
ÔÔ& 0
}
 
;
 
newExam
ÒÒ 
.
ÒÒ 
ExamQuestions
ÒÒ %
.
ÒÒ% &
Add
ÒÒ& )
(
ÒÒ) *
toAdd
ÒÒ* /
)
ÒÒ/ 0
;
ÒÒ0 1
Database
ÚÚ 
.
ÚÚ 
Session
ÚÚ  
.
ÚÚ  !
Save
ÚÚ! %
(
ÚÚ% &
toAdd
ÚÚ& +
)
ÚÚ+ ,
;
ÚÚ, -
}
ÛÛ 
;
ÛÛ 
Database
ıı 
.
ıı 
Session
ıı 
.
ıı 
Save
ıı !
(
ıı! "
newExam
ıı" )
)
ıı) *
;
ıı* +
Database
ˆˆ 
.
ˆˆ 
Session
ˆˆ 
.
ˆˆ 
Flush
ˆˆ "
(
ˆˆ" #
)
ˆˆ# $
;
ˆˆ$ %
}
˜˜ 	
public
˘˘ 
ActionResult
˘˘ 

AssignExam
˘˘ &
(
˘˘& '
int
˘˘' *
	teacherID
˘˘+ 4
,
˘˘4 5
int
˘˘6 9
examID
˘˘: @
)
˘˘@ A
{
˙˙ 	
var
˚˚ 
teacher
˚˚ 
=
˚˚ 
Database
˚˚ "
.
˚˚" #
Session
˚˚# *
.
˚˚* +
Load
˚˚+ /
<
˚˚/ 0
Users
˚˚0 5
>
˚˚5 6
(
˚˚6 7
	teacherID
˚˚7 @
)
˚˚@ A
;
˚˚A B
var
¸¸ 
thisTeachersExams
¸¸ !
=
¸¸" #
Database
¸¸$ ,
.
¸¸, -
Session
¸¸- 4
.
¸¸4 5
Query
¸¸5 :
<
¸¸: ;
Exam
¸¸; ?
>
¸¸? @
(
¸¸@ A
)
¸¸A B
.
¸¸B C
Where
¸¸C H
(
¸¸H I
e
¸¸I J
=>
¸¸K M
e
¸¸N O
.
¸¸O P
teacher
¸¸P W
.
¸¸W X
id
¸¸X Z
==
¸¸[ ]
teacher
¸¸^ e
.
¸¸e f
id
¸¸f h
)
¸¸h i
.
¸¸i j
ToList
¸¸j p
(
¸¸p q
)
¸¸q r
;
¸¸r s
var
˛˛ 
dept
˛˛ 
=
˛˛ 
teacher
˛˛ 
.
˛˛ 
depts
˛˛ $
.
˛˛$ %
FirstOrDefault
˛˛% 3
(
˛˛3 4
)
˛˛4 5
;
˛˛5 6
var
ÄÄ !
studentsForThisDept
ÄÄ #
=
ÄÄ$ %
Database
ÄÄ& .
.
ÄÄ. /
Session
ÄÄ/ 6
.
ÄÄ6 7
Query
ÄÄ7 <
<
ÄÄ< =
Users
ÄÄ= B
>
ÄÄB C
(
ÄÄC D
)
ÄÄD E
.
ÅÅ 
Where
ÅÅ 
(
ÅÅ 
s
ÅÅ 
=>
ÅÅ 
s
ÅÅ 
.
ÅÅ 
depts
ÅÅ #
.
ÅÅ# $
FirstOrDefault
ÅÅ$ 2
(
ÅÅ2 3
)
ÅÅ3 4
==
ÅÅ5 7
dept
ÅÅ8 <
)
ÅÅ< =
.
ÅÅ= >
Where
ÅÅ> C
(
ÅÅC D
s
ÅÅD E
=>
ÅÅF H
s
ÅÅI J
.
ÅÅJ K
Role
ÅÅK O
.
ÅÅO P
RoleName
ÅÅP X
==
ÅÅY [
$str
ÅÅ\ e
)
ÅÅe f
.
ÇÇ 
OrderBy
ÇÇ 
(
ÇÇ 
s
ÇÇ 
=>
ÇÇ 
s
ÇÇ 
.
ÇÇ  
SchoolNumber
ÇÇ  ,
)
ÇÇ, -
.
ÇÇ- .
ToList
ÇÇ. 4
(
ÇÇ4 5
)
ÇÇ5 6
;
ÇÇ6 7
var
ÜÜ 
_Choosen
ÜÜ 
=
ÜÜ 
Database
ÜÜ #
.
ÜÜ# $
Session
ÜÜ$ +
.
ÜÜ+ ,
	QueryOver
ÜÜ, 5
<
ÜÜ5 6
Users
ÜÜ6 ;
>
ÜÜ; <
(
ÜÜ< =
)
ÜÜ= >
.
áá 
Right
áá !
.
áá! "
JoinQueryOver
áá" /
<
áá/ 0
Exam
áá0 4
>
áá4 5
(
áá5 6
x
áá6 7
=>
áá8 :
x
áá; <
.
áá< =
exams
áá= B
)
ááB C
.
àà 
Where
àà !
(
àà! "
c
àà" #
=>
àà$ &
c
àà' (
.
àà( )
id
àà) +
==
àà, .
examID
àà/ 5
)
àà5 6
.
ââ 
List
ââ  
(
ââ  !
)
ââ! "
;
ââ" #
if
åå 
(
åå 
_Choosen
åå 
[
åå 
$num
åå 
]
åå 
==
åå 
null
åå #
)
åå# $
{
çç 
_Choosen
éé 
=
éé 
new
éé 
List
éé #
<
éé# $
Users
éé$ )
>
éé) *
(
éé* +
)
éé+ ,
;
éé, -
return
ëë 
View
ëë 
(
ëë 
new
ëë 
AssignExamIndex
ëë  /
{
íí 
selectedExamID
ìì "
=
ìì# $
examID
ìì% +
,
ìì+ , 
studentsNotChoosen
îî &
=
îî' (!
studentsForThisDept
îî) <
,
îî< =
studentsChoosed
ïï #
=
ïï$ %
_Choosen
ïï& .
.
ïï. /
OrderBy
ïï/ 6
(
ïï6 7
c
ïï7 8
=>
ïï9 ;
c
ïï< =
.
ïï= >
SchoolNumber
ïï> J
)
ïïJ K
.
ïïK L
ToList
ïïL R
(
ïïR S
)
ïïS T
}
ññ 
)
ññ 
;
ññ 
}
óó 
else
òò 
{
ôô 
for
öö 
(
öö 
int
öö 
i
öö 
=
öö 
$num
öö 
;
öö 
i
öö  !
<
öö" #
_Choosen
öö$ ,
.
öö, -
Count
öö- 2
;
öö2 3
i
öö4 5
++
öö5 7
)
öö7 8
{
õõ 
if
úú 
(
úú !
studentsForThisDept
úú +
.
úú+ ,
Contains
úú, 4
(
úú4 5
_Choosen
úú5 =
[
úú= >
i
úú> ?
]
úú? @
)
úú@ A
)
úúA B
{
ùù !
studentsForThisDept
ûû +
.
ûû+ ,
Remove
ûû, 2
(
ûû2 3
_Choosen
ûû3 ;
[
ûû; <
i
ûû< =
]
ûû= >
)
ûû> ?
;
ûû? @
}
üü 
}
†† 
return
¢¢ 
View
¢¢ 
(
¢¢ 
new
¢¢ 
AssignExamIndex
¢¢  /
{
££ 
selectedExamID
§§ "
=
§§# $
examID
§§% +
,
§§+ , 
studentsNotChoosen
•• &
=
••' (!
studentsForThisDept
••) <
,
••< =
studentsChoosed
¶¶ #
=
¶¶$ %
_Choosen
¶¶& .
.
¶¶. /
OrderBy
¶¶/ 6
(
¶¶6 7
c
¶¶7 8
=>
¶¶9 ;
c
¶¶< =
.
¶¶= >
SchoolNumber
¶¶> J
)
¶¶J K
.
¶¶K L
ToList
¶¶L R
(
¶¶R S
)
¶¶S T
}
ßß 
)
ßß 
;
ßß 
}
®® 
}
©© 	
[
´´ 	
HttpPost
´´	 
]
´´ 
public
¨¨ 
void
¨¨ 
AssignStudent
¨¨ !
(
¨¨! "
int
¨¨" %
	studentID
¨¨& /
,
¨¨/ 0
int
¨¨1 4
examId
¨¨5 ;
)
¨¨; <
{
≠≠ 	
var
ÆÆ 
student
ÆÆ 
=
ÆÆ 
Database
ÆÆ "
.
ÆÆ" #
Session
ÆÆ# *
.
ÆÆ* +
Load
ÆÆ+ /
<
ÆÆ/ 0
Users
ÆÆ0 5
>
ÆÆ5 6
(
ÆÆ6 7
	studentID
ÆÆ7 @
)
ÆÆ@ A
;
ÆÆA B
var
∞∞ 
exam
∞∞ 
=
∞∞ 
Database
∞∞ 
.
∞∞  
Session
∞∞  '
.
∞∞' (
Load
∞∞( ,
<
∞∞, -
Exam
∞∞- 1
>
∞∞1 2
(
∞∞2 3
examId
∞∞3 9
)
∞∞9 :
;
∞∞: ;
exam
≤≤ 
.
≤≤ 
ExamStudents
≤≤ 
.
≤≤ 
Add
≤≤ !
(
≤≤! "
student
≤≤" )
)
≤≤) *
;
≤≤* +
Database
¥¥ 
.
¥¥ 
Session
¥¥ 
.
¥¥ 
Update
¥¥ #
(
¥¥# $
exam
¥¥$ (
)
¥¥( )
;
¥¥) *
Database
µµ 
.
µµ 
Session
µµ 
.
µµ 
Flush
µµ "
(
µµ" #
)
µµ# $
;
µµ$ %
}
∂∂ 	
[
∏∏ 	
HttpPost
∏∏	 
]
∏∏ 
public
ππ 
void
ππ 
ReAssignStudent
ππ #
(
ππ# $
int
ππ$ '
	studentID
ππ( 1
,
ππ1 2
int
ππ3 6
examId
ππ7 =
)
ππ= >
{
∫∫ 	
var
ªª 
student
ªª 
=
ªª 
Database
ªª "
.
ªª" #
Session
ªª# *
.
ªª* +
Load
ªª+ /
<
ªª/ 0
Users
ªª0 5
>
ªª5 6
(
ªª6 7
	studentID
ªª7 @
)
ªª@ A
;
ªªA B
var
ΩΩ 
exam
ΩΩ 
=
ΩΩ 
Database
ΩΩ 
.
ΩΩ  
Session
ΩΩ  '
.
ΩΩ' (
Load
ΩΩ( ,
<
ΩΩ, -
Exam
ΩΩ- 1
>
ΩΩ1 2
(
ΩΩ2 3
examId
ΩΩ3 9
)
ΩΩ9 :
;
ΩΩ: ;
exam
øø 
.
øø 
ExamStudents
øø 
.
øø 
Remove
øø $
(
øø$ %
student
øø% ,
)
øø, -
;
øø- .
Database
¡¡ 
.
¡¡ 
Session
¡¡ 
.
¡¡ 
Update
¡¡ #
(
¡¡# $
exam
¡¡$ (
)
¡¡( )
;
¡¡) *
Database
¬¬ 
.
¬¬ 
Session
¬¬ 
.
¬¬ 
Flush
¬¬ "
(
¬¬" #
)
¬¬# $
;
¬¬$ %
}
√√ 	
public
≈≈ 
ActionResult
≈≈ 
Logout
≈≈ "
(
≈≈" #
)
≈≈# $
{
∆∆ 	!
FormsAuthentication
«« 
.
««  
SignOut
««  '
(
««' (
)
««( )
;
««) *
return
»» 
RedirectToRoute
»» "
(
»»" #
$str
»»# )
)
»») *
;
»»* +
}
   	
public
ÃÃ 
ActionResult
ÃÃ 

ShowResult
ÃÃ &
(
ÃÃ& '
int
ÃÃ' *
examid
ÃÃ+ 1
)
ÃÃ1 2
{
ÕÕ 	
var
ŒŒ 
teacher
ŒŒ 
=
ŒŒ 
Database
ŒŒ "
.
ŒŒ" #
Session
ŒŒ# *
.
ŒŒ* +
Query
ŒŒ+ 0
<
ŒŒ0 1
Users
ŒŒ1 6
>
ŒŒ6 7
(
ŒŒ7 8
)
ŒŒ8 9
.
ŒŒ9 :
Where
ŒŒ: ?
(
ŒŒ? @
c
ŒŒ@ A
=>
ŒŒA C
c
ŒŒC D
.
ŒŒD E
SchoolNumber
ŒŒE Q
==
ŒŒR T
User
ŒŒU Y
.
ŒŒY Z
Identity
ŒŒZ b
.
ŒŒb c
Name
ŒŒc g
)
ŒŒg h
.
ŒŒh i
FirstOrDefault
ŒŒi w
(
ŒŒw x
)
ŒŒx y
;
ŒŒy z
var
œœ 
results
œœ 
=
œœ 
Database
œœ "
.
œœ" #
Session
œœ# *
.
œœ* +
Query
œœ+ 0
<
œœ0 1

ExamResult
œœ1 ;
>
œœ; <
(
œœ< =
)
œœ= >
.
œœ> ?
Where
œœ? D
(
œœD E
x
œœE F
=>
œœG I
x
œœJ K
.
œœK L
teacher
œœL S
.
œœS T
id
œœT V
==
œœW Y
teacher
œœZ a
.
œœa b
id
œœb d
&&
œœe g
x
œœh i
.
œœi j
exam
œœj n
.
œœn o
id
œœo q
==
œœr t
examid
œœu {
)
œœ{ |
.
œœ| }
ToListœœ} É
(œœÉ Ñ
)œœÑ Ö
;œœÖ Ü
return
–– 
View
–– 
(
–– 
new
–– 

ShowResult
–– &
{
—— 
Results
““ 
=
““ 
results
““ !
}
‘‘ 
)
‘‘ 
;
‘‘ 
}
’’ 	
}
÷÷ 
}◊◊ ¶	
cC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Teacher\TeacherAreaRegistration.cs
	namespace 	
OnlineSinav
 
. 
Areas 
. 
Teacher #
{ 
public 

class #
TeacherAreaRegistration (
:) *
AreaRegistration+ ;
{ 
public 
override 
string 
AreaName '
{ 	
get		 
{

 
return 
$str  
;  !
} 
} 	
public 
override 
void 
RegisterArea )
() *#
AreaRegistrationContext* A
contextB I
)I J
{ 	
context 
. 
MapRoute 
( 
$str !
,! "
$str 4
,4 5
new 
{ 
action 
= 
$str &
,& '
id( *
=+ ,
UrlParameter- 9
.9 :
Optional: B
}C D
) 
; 
} 	
} 
} ûK
^C:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Teacher\ViewModels\NewExam.cs
	namespace		 	
OnlineSinav		
 
.		 
Areas		 
.		 
Teacher		 #
.		# $

ViewModels		$ .
{

 
public 

class 
FormData 
{ 
public 
string 
question_string %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
string 
A 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
B 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
C 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
D 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
E 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
correct_answer $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
FormData 
( 
string 
_question_string /
,/ 0
string1 7
_A8 :
,: ;
string< B
_BC E
,E F
stringG M
_CN P
,P Q
stringR X
_DY [
,[ \
string] c
_Ed f
,f g
stringh n
_correct_answero ~
)~ 
{ 	
question_string 
= 
_question_string .
;. /
A 
= 
_A 
; 
B 
= 
_B 
; 
C 
= 
_C 
; 
D 
= 
_D 
; 
E 
= 
_E 
; 
correct_answer 
= 
_correct_answer ,
;, -
} 	
} 
public## 

class## 
GetFormData## 
{$$ 
public%% 
string%% 
Name%% 
{%% 
get%%  
;%%  !
set%%" %
;%%% &
}%%' (
public&& 
string&& 
Value&& 
{&& 
get&& !
;&&! "
set&&# &
;&&& '
}&&( )
public(( 
GetFormData(( 
((( 
string(( !
name((" &
,((& '
string((( .
val((/ 2
)((2 3
{)) 	
Name** 
=** 
name** 
;** 
Value++ 
=++ 
val++ 
;++ 
},, 	
}-- 
public// 

class// 
	Questions// 
{00 
[11 	
Display11	 
(11 
Name11 
=11 
$str11 1
)111 2
]112 3
[22 	
Required22	 
(22 
ErrorMessage22 
=22  
$str22! =
)22= >
]22> ?
[33 	
DataType33	 
(33 
DataType33 
.33 
Text33 
)33  
]33  !
public44 
string44 
	exam_name44 
{44  !
get44" %
;44% &
set44' *
;44* +
}44, -
[66 	
Display66	 
(66 
Name66 
=66 
$str66 =
)66= >
]66> ?
[77 	
Required77	 
(77 
ErrorMessage77 
=77  
$str77! J
)77J K
]77K L
public88 
DateTime88 
fullDate88  
{88! "
get88# &
;88& '
set88( +
;88+ ,
}88- .
[:: 	
Display::	 
(:: 
Name:: 
=:: 
$str:: &
)::& '
]::' (
[;; 	
Required;;	 
(;; 
ErrorMessage;; 
=;;  
$str;;! @
);;@ A
];;A B
public<< 
string<< 
examDuration<< "
{<<# $
get<<% (
;<<( )
set<<* -
;<<- .
}<</ 0
[>> 	
Display>>	 
(>> 
Name>> 
=>> 
$str>> $
)>>$ %
]>>% &
public?? 
string?? 
question_string?? %
{??& '
get??( +
;??+ ,
set??- 0
;??0 1
}??2 3
public@@ 
string@@ 
A@@ 
{@@ 
get@@ 
;@@ 
set@@ "
;@@" #
}@@$ %
publicAA 
stringAA 
BAA 
{AA 
getAA 
;AA 
setAA "
;AA" #
}AA$ %
publicBB 
stringBB 
CBB 
{BB 
getBB 
;BB 
setBB "
;BB" #
}BB$ %
publicCC 
stringCC 
DCC 
{CC 
getCC 
;CC 
setCC "
;CC" #
}CC$ %
publicDD 
stringDD 
EDD 
{DD 
getDD 
;DD 
setDD "
;DD" #
}DD$ %
[EE 	
DisplayEE	 
(EE 
NameEE 
=EE 
$strEE %
)EE% &
]EE& '
publicFF 
stringFF 
correct_answerFF $
{FF% &
getFF' *
;FF* +
setFF, /
;FF/ 0
}FF1 2
}GG 
publicOO 

classOO !
TeacherIndexViewModelOO &
{PP 
publicQQ 
IListQQ 
<QQ 
ModelsQQ 
.QQ 
ExamQQ  
>QQ  !
examsQQ" '
;QQ' (
publicRR 
UsersRR 
teacherRR 
;RR 
}SS 
publicUU 

classUU 
AssignExamIndexUU  
{VV 
publicWW 
intWW 
selectedExamIDWW !
{WW" #
getWW$ '
;WW' (
setWW) ,
;WW, -
}WW. /
publicYY 
ListYY 
<YY 
ModelsYY 
.YY 
UsersYY  
>YY  !
studentsNotChoosenYY" 4
;YY4 5
publicZZ 
ListZZ 
<ZZ 
ModelsZZ 
.ZZ 
UsersZZ  
>ZZ  !
studentsChoosedZZ" 1
;ZZ1 2
[\\ 	
Display\\	 
(\\ 
Name\\ 
=\\ 
$str\\ "
)\\" #
]\\# $
public]] 
string]] 
name]] 
{]] 
get]]  
;]]  !
set]]" %
;]]% &
}]]' (
[^^ 	
Display^^	 
(^^ 
Name^^ 
=^^ 
$str^^ '
)^^' (
]^^( )
public__ 
string__ 
school_number__ #
{__$ %
get__& )
;__) *
set__+ .
;__. /
}__0 1
}`` 
publicbb 

classbb 
EditExamIndexbb 
{cc 
publicdd 
DateTimedd 
fullDatedd  
{dd! "
getdd# &
;dd& '
setdd( +
;dd+ ,
}dd- .
publicee 
Examee 
selectedExamee  
{ee! "
getee# &
;ee& '
setee( +
;ee+ ,
}ee- .
}ff 
publichh 

classhh 
EditExamQuestionshh "
{ii 
[jj 	
Displayjj	 
(jj 
Namejj 
=jj 
$strjj $
)jj$ %
]jj% &
publickk 
stringkk 
question_stringkk %
{kk& '
getkk( +
;kk+ ,
setkk- 0
;kk0 1
}kk2 3
publicll 
stringll 
All 
{ll 
getll 
;ll 
setll "
;ll" #
}ll$ %
publicmm 
stringmm 
Bmm 
{mm 
getmm 
;mm 
setmm "
;mm" #
}mm$ %
publicnn 
stringnn 
Cnn 
{nn 
getnn 
;nn 
setnn "
;nn" #
}nn$ %
publicoo 
stringoo 
Doo 
{oo 
getoo 
;oo 
setoo "
;oo" #
}oo$ %
publicpp 
stringpp 
Epp 
{pp 
getpp 
;pp 
setpp "
;pp" #
}pp$ %
[qq 	
Displayqq	 
(qq 
Nameqq 
=qq 
$strqq %
)qq% &
]qq& '
publicrr 
stringrr 
correct_answerrr $
{rr% &
getrr' *
;rr* +
setrr, /
;rr/ 0
}rr1 2
}ss 
publictt 

classtt 

ShowResulttt 
{uu 
publicww 
IEnumerableww 
<ww 

ExamResultww %
>ww% &
Resultsww' .
{ww/ 0
getww1 4
;ww4 5
setww6 9
;ww9 :
}ww; <
}xx 
}yy … 
XC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Controllers\AuthController.cs
	namespace 	
OnlineSinav
 
. 
Controllers !
{ 
public 

class 
AuthController 
:  !

Controller" ,
{ 
public 
ActionResult 
Login !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
[ 	
HttpPost	 
] 
public 
ActionResult 
Login !
(! "
	AuthLogin" +
formData, 4
,4 5
string6 <
	returnUrl= F
)F G
{ 	
var 
user 
= 
Database 
.  
Session  '
.' (
Query( -
<- .
Users. 3
>3 4
(4 5
)5 6
.6 7
FirstOrDefault7 E
(E F
pF G
=>H J
pK L
.L M
SchoolNumberM Y
==Z \
formData] e
.e f
school_numberf s
)s t
;t u
if 
( 
user 
== 
null 
|| 
!  !
(! "
user" &
.& '
CheckPassword' 4
(4 5
formData5 =
.= >
password> F
)F G
)G H
)H I
{ 

ModelState   
.   
AddModelError   (
(  ( )
$str  ) 7
,  7 8
$str  9 T
)  T U
;  U V
}!! 
if## 
(## 
!## 

ModelState## 
.## 
IsValid## #
)### $
{$$ 
return%% 
View%% 
(%% 
)%% 
;%% 
}&& 
FormsAuthentication(( 
.((  
SetAuthCookie((  -
(((- .
formData((. 6
.((6 7
school_number((7 D
,((D E
true((F J
)((J K
;((K L
if** 
(** 
!** 
String** 
.** 
IsNullOrWhiteSpace** *
(*** +
	returnUrl**+ 4
)**4 5
)**5 6
{++ 
return,, 
Redirect,, 
(,,  
	returnUrl,,  )
),,) *
;,,* +
}-- 
if// 
(// 
user// 
.// 
Role// 
.// 
RoleName// "
==//# %
$str//& -
)//- .
{00 
return11 
RedirectToAction11 '
(11' (
$str11( /
,11/ 0
$str111 8
,118 9
new11: =
{11> ?
area11@ D
=11E F
$str11G N
}11O P
)11P Q
;11Q R
}22 
else33 
if33 
(33 
user33 
.33 
Role33 
.33 
RoleName33 '
==33( *
$str33+ 4
)334 5
{44 
return55 
RedirectToAction55 '
(55' (
$str55( /
,55/ 0
$str551 :
,55: ;
new55< ?
{55@ A
area55A E
=55F G
$str55H Q
}55Q R
)55R S
;55S T
}66 
else77 
return77 
RedirectToAction77 (
(77( )
$str77) 0
,770 1
$str772 8
,778 9
new77: =
{77> ?
area77@ D
=77E F
$str77G P
}77Q R
)77R S
;77S T
}99 	
public== 
ActionResult== 
Logout== "
(==" #
)==# $
{>> 	
FormsAuthentication?? 
.??  
SignOut??  '
(??' (
)??( )
;??) *
return@@ 
RedirectToAction@@ #
(@@# $
$str@@$ +
,@@+ ,
$str@@- 7
)@@7 8
;@@8 9
}AA 	
}BB 	
}CC ™
\C:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Controllers\HomePageController.cs
	namespace 	
OnlineSinav
 
. 
Controllers !
{ 
public		 

class		 
HomePageController		 #
:		$ %

Controller		& 0
{

 
public 
ActionResult 
Index !
(! "
)" #
{ 	
return 
View 
( 
) 
; 
} 	
} 
} Ö 
FC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Database.cs
	namespace 	
OnlineSinav
 
{ 
public		 

class		 
Database		 
{

 
private 
const 
string 

SessionKey '
=( )
$str* K
;K L
private 
static 
ISessionFactory &
_sessionFactory' 6
;6 7
public 
static 
ISession 
Session &
{ 	
get 
{ 
return 
( 
ISession  
)  !
HttpContext! ,
., -
Current- 4
.4 5
Items5 :
[: ;

SessionKey; E
]E F
;F G
} 
} 	
public 
static 
void 
	Configure $
($ %
)% &
{ 	
var 
config 
= 
new 
Configuration *
(* +
)+ ,
;, -
var 
mapper 
= 
new 
ModelMapper (
(( )
)) *
;* +
mapper 
. 

AddMapping 
< 
Users #
.# $
UsersMap$ ,
>, -
(- .
). /
;/ 0
mapper 
. 

AddMapping 
< 
RolesMap &
>& '
(' (
)( )
;) *
mapper 
. 

AddMapping 
< 
QuestionsMap *
>* +
(+ ,
), -
;- .
mapper 
. 

AddMapping 
< 

LessonsMap (
>( )
() *
)* +
;+ ,
mapper 
. 

AddMapping 
< 
ExamMap %
>% &
(& '
)' (
;( )
mapper   
.   

AddMapping   
<   
DepartmentMap   +
>  + ,
(  , -
)  - .
;  . /
mapper!! 
.!! 

AddMapping!! 
<!! 
Models!! $
.!!$ %
ExamResultMap!!% 2
>!!2 3
(!!3 4
)!!4 5
;!!5 6
config## 
.## 

AddMapping## 
(## 
mapper## $
.##$ %7
+CompileMappingForAllExplicitlyAddedEntities##% P
(##P Q
)##Q R
)##R S
;##S T
_sessionFactory%% 
=%% 
config%% $
.%%$ %
BuildSessionFactory%%% 8
(%%8 9
)%%9 :
;%%: ;
}'' 	
public)) 
static)) 
void)) 
OpenSession)) &
())& '
)))' (
{** 	
HttpContext++ 
.++ 
Current++ 
.++  
Items++  %
[++% &

SessionKey++& 0
]++0 1
=++2 3
_sessionFactory++4 C
.++C D
OpenSession++D O
(++O P
)++P Q
;++Q R
},, 	
public.. 
static.. 
void.. 
CloseSession.. '
(..' (
)..( )
{// 	
var11 
session11 
=11 
HttpContext11 %
.11% &
Current11& -
.11- .
Items11. 3
[113 4

SessionKey114 >
]11> ?
as11@ B
ISession11C K
;11K L
if22 
(22 
session22 
!=22 
null22 
)22  
{33 
session44 
.44 
Close44 
(44 
)44 
;44  
}55 
HttpContext77 
.77 
Current77 
.77  
Items77  %
.77% &
Remove77& ,
(77, -
$str77- 6
)776 7
;777 8
}99 	
};; 
}<< ﬂ

IC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Global.asax.cs
	namespace 	
OnlineSinav
 
{		 
public

 

class

 
MvcApplication

 
:

  !
System

" (
.

( )
Web

) ,
.

, -
HttpApplication

- <
{ 
	protected 
void 
Application_Start (
(( )
)) *
{ 	
AreaRegistration 
. 
RegisterAllAreas -
(- .
). /
;/ 0
RouteConfig 
. 
RegisterRoutes &
(& '

RouteTable' 1
.1 2
Routes2 8
)8 9
;9 :
Database 
. 
	Configure 
( 
)  
;  !
} 	
	protected 
void $
Application_BeginRequest /
(/ 0
)0 1
{ 	
Database 
. 
OpenSession  
(  !
)! "
;" #
} 	
	protected 
void "
Application_EndRequest -
(- .
). /
{ 	
Database 
. 
CloseSession !
(! "
)" #
;# $
} 	
} 
} …
RC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Infrastructures\Auth.cs
	namespace 	
OnlineSinav
 
. 
Infrastructures %
{ 
public		 

static		 
class		 
Auth		 
{

 
private 
const 
string 
UserKey $
=% &
$str' A
;A B
public 
static 
Users 
User  
{ 	
get 
{ 
if 
( 
! 
HttpContext  
.  !
Current! (
.( )
User) -
.- .
Identity. 6
.6 7
IsAuthenticated7 F
)F G
{ 
return 
null 
;  
} 
var 
user 
= 
HttpContext &
.& '
Current' .
.. /
Items/ 4
[4 5
UserKey5 <
]< =
as> @
UsersA F
;F G
if 
( 
user 
== 
null  
)  !
{ 
user 
= 
Database #
.# $
Session$ +
.+ ,
Query, 1
<1 2
Users2 7
>7 8
(8 9
)9 :
.: ;
FirstOrDefault; I
(I J
pJ K
=>L N
pO P
.P Q
SchoolNumberQ ]
==^ `
HttpContexta l
.l m
Currentm t
.t u
Useru y
.y z
Identity	z Ç
.
Ç É
Name
É á
)
á à
;
à â
} 
if 
( 
user 
== 
null  
)  !
return 
null 
;  
HttpContext 
. 
Current #
.# $
Items$ )
[) *
UserKey* 1
]1 2
=3 4
user5 9
;9 :
return!! 
user!! 
;!! 
}"" 
}$$ 	
}%% 
}&& ≤$
ZC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Infrastructures\RoleProvider.cs
	namespace 	
OnlineSinav
 
. 
Infrastructures %
{ 
public 

class 
RoleProvider 
: 
System  &
.& '
Web' *
.* +
Security+ 3
.3 4
RoleProvider4 @
{		 
public

 
override

 
string

 
ApplicationName

 .
{

/ 0
get

1 4
=>

5 7
throw

8 =
new

> A#
NotImplementedException

B Y
(

Y Z
)

Z [
;

[ \
set

] `
=>

a c
throw

d i
new

j m$
NotImplementedException	

n Ö
(


Ö Ü
)


Ü á
;


á à
}


â ä
public 
override 
void 
AddUsersToRoles ,
(, -
string- 3
[3 4
]4 5
	usernames6 ?
,? @
stringA G
[G H
]H I
	roleNamesJ S
)S T
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
override 
void 

CreateRole '
(' (
string( .
roleName/ 7
)7 8
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
override 
bool 

DeleteRole '
(' (
string( .
roleName/ 7
,7 8
bool9 = 
throwOnPopulatedRole> R
)R S
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public 
override 
string 
[ 
]  
FindUsersInRole! 0
(0 1
string1 7
roleName8 @
,@ A
stringB H
usernameToMatchI X
)X Y
{ 	
throw 
new #
NotImplementedException -
(- .
). /
;/ 0
} 	
public   
override   
string   
[   
]    
GetAllRoles  ! ,
(  , -
)  - .
{!! 	
throw"" 
new"" #
NotImplementedException"" -
(""- .
)"". /
;""/ 0
}## 	
public%% 
override%% 
string%% 
[%% 
]%%  
GetRolesForUser%%! 0
(%%0 1
string%%1 7
username%%8 @
)%%@ A
{&& 	
string'' 
['' 
]'' 
	userRoles'' 
=''  
{''! "
Auth''# '
.''' (
User''( ,
.'', -
Role''- 1
.''1 2
RoleName''2 :
}''; <
;''< =
return)) 
	userRoles)) 
;)) 
}** 	
public,, 
override,, 
string,, 
[,, 
],,  
GetUsersInRole,,! /
(,,/ 0
string,,0 6
roleName,,7 ?
),,? @
{-- 	
throw.. 
new.. #
NotImplementedException.. -
(..- .
)... /
;../ 0
}// 	
public11 
override11 
bool11 
IsUserInRole11 )
(11) *
string11* 0
username111 9
,119 :
string11; A
roleName11B J
)11J K
{22 	
throw33 
new33 #
NotImplementedException33 -
(33- .
)33. /
;33/ 0
}44 	
public66 
override66 
void66  
RemoveUsersFromRoles66 1
(661 2
string662 8
[668 9
]669 :
	usernames66; D
,66D E
string66F L
[66L M
]66M N
	roleNames66O X
)66X Y
{77 	
throw88 
new88 #
NotImplementedException88 -
(88- .
)88. /
;88/ 0
}99 	
public;; 
override;; 
bool;; 

RoleExists;; '
(;;' (
string;;( .
roleName;;/ 7
);;7 8
{<< 	
throw== 
new== #
NotImplementedException== -
(==- .
)==. /
;==/ 0
}>> 	
}?? 
}@@ Øs
TC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Migrations\_001_All_DB.cs
	namespace 	
OnlineSinav
 
. 

Migrations  
{ 
[ 
	Migration 
( 
$num 
) 
] 
public 

class 
_001_All_DB 
: 
	Migration (
{ 
public 
override 
void 
Down !
(! "
)" #
{		 	
Delete

 
.

 
Table

 
(

 
$str

 $
)

$ %
;

% &
Delete 
. 
Table 
( 
$str "
)" #
;# $
Delete 
. 
Table 
( 
$str &
)& '
;' (
Delete 
. 
Table 
( 
$str '
)' (
;( )
Delete 
. 
Table 
( 
$str %
)% &
;& '
Delete 
. 
Table 
( 
$str $
)$ %
;% &
Delete 
. 
Table 
( 
$str 
)  
;  !
Delete 
. 
Table 
( 
$str %
)% &
;& '
Delete 
. 
Table 
( 
$str  
)  !
;! "
Delete 
. 
Table 
( 
$str  
)  !
;! "
} 	
public 
override 
void 
Up 
(  
)  !
{ 	
Create 
. 
Table 
( 
$str  
)  !
. 

WithColumn 
( 
$str  
)  !
.! "
AsInt32" )
() *
)* +
.+ ,
Identity, 4
(4 5
)5 6
.6 7

PrimaryKey7 A
(A B
)B C
. 

WithColumn 
( 
$str '
)' (
.( )
AsString) 1
(1 2
$num2 5
)5 6
;6 7
Create 
. 
Table 
( 
$str  
)  !
. 

WithColumn 
( 
$str  
)  !
.! "
AsInt32" )
() *
)* +
.+ ,
Identity, 4
(4 5
)5 6
.6 7

PrimaryKey7 A
(A B
)B C
. 

WithColumn 
( 
$str "
)" #
.# $
AsString$ ,
(, -
$num- 0
)0 1
.   

WithColumn   
(   
$str   +
)  + ,
.  , -
AsString  - 5
(  5 6
$num  6 8
)  8 9
.!! 

WithColumn!! 
(!! 
$str!! $
)!!$ %
.!!% &
AsInt32!!& -
(!!- .
)!!. /
.!!/ 0

ForeignKey!!0 :
(!!: ;
$str!!; B
,!!B C
$str!!D H
)!!H I
.!!I J
OnDelete!!J R
(!!R S
System!!S Y
.!!Y Z
Data!!Z ^
.!!^ _
Rule!!_ c
.!!c d
Cascade!!d k
)!!k l
."" 

WithColumn"" 
("" 
$str"" &
)""& '
.""' (
AsString""( 0
(""0 1
$num""1 4
)""4 5
;""5 6
Create%% 
.%% 
Table%% 
(%% 
$str%% %
)%%% &
.&& 

WithColumn&& 
(&& 
$str&&  
)&&  !
.&&! "
AsInt32&&" )
(&&) *
)&&* +
.&&+ ,
Identity&&, 4
(&&4 5
)&&5 6
.&&6 7

PrimaryKey&&7 A
(&&A B
)&&B C
.'' 

WithColumn'' 
('' 
$str'' '
)''' (
.''( )
AsString'') 1
(''1 2
$num''2 5
)''5 6
;''6 7
Create** 
.** 
Table** 
(** 
$str** 
)**  
.++ 

WithColumn++ 
(++ 
$str++  
)++  !
.++! "
AsInt32++" )
(++) *
)++* +
.+++ ,
Identity++, 4
(++4 5
)++5 6
.++6 7

PrimaryKey++7 A
(++A B
)++B C
.,, 

WithColumn,, 
(,, 
$str,, '
),,' (
.,,( )
AsString,,) 1
(,,1 2
$num,,2 5
),,5 6
.-- 

WithColumn-- 
(-- 
$str-- '
)--' (
.--( )
AsDate--) /
(--/ 0
)--0 1
... 

WithColumn.. 
(.. 
$str.. (
)..( )
...) *

AsDateTime..* 4
(..4 5
)..5 6
.// 

WithColumn// 
(// 
$str// &
)//& '
.//' (

AsDateTime//( 2
(//2 3
)//3 4
.00 

WithColumn00 
(00 
$str00 +
)00+ ,
.00, -
AsString00- 5
(005 6
$num006 7
)007 8
.11 

WithColumn11 
(11 
$str11 %
)11% &
.11& '
AsInt3211' .
(11. /
)11/ 0
.110 1

ForeignKey111 ;
(11; <
$str11< H
,11H I
$str11J N
)11N O
.11O P
OnDelete11P X
(11X Y
System11Y _
.11_ `
Data11` d
.11d e
Rule11e i
.11i j
Cascade11j q
)11q r
.22 

WithColumn22 
(22 
$str22 (
)22( )
.22) *
AsInt3222* 1
(221 2
)222 3
.223 4

ForeignKey224 >
(22> ?
$str22? F
,22F G
$str22H L
)22L M
.22M N
OnDelete22N V
(22V W
System22W ]
.22] ^
Data22^ b
.22b c
Rule22c g
.22g h
Cascade22h o
)22o p
;22p q
Create55 
.55 
Table55 
(55 
$str55 $
)55$ %
.66 

WithColumn66 
(66 
$str66  
)66  !
.66! "
AsInt3266" )
(66) *
)66* +
.66+ ,
Identity66, 4
(664 5
)665 6
.666 7

PrimaryKey667 A
(66A B
)66B C
.77 

WithColumn77 
(77 
$str77 (
)77( )
.77) *
AsString77* 2
(772 3
$num773 6
)776 7
.88 

WithColumn88 
(88 
$str88 %
)88% &
.88& '
AsString88' /
(88/ 0
$num880 3
)883 4
.99 

WithColumn99 
(99 
$str99 %
)99% &
.99& '
AsString99' /
(99/ 0
$num990 3
)993 4
.:: 

WithColumn:: 
(:: 
$str:: %
)::% &
.::& '
AsString::' /
(::/ 0
$num::0 3
)::3 4
.;; 

WithColumn;; 
(;; 
$str;; %
);;% &
.;;& '
AsString;;' /
(;;/ 0
$num;;0 3
);;3 4
.<< 

WithColumn<< 
(<< 
$str<< %
)<<% &
.<<& '
AsString<<' /
(<</ 0
$num<<0 3
)<<3 4
.== 

WithColumn== 
(== 
$str== )
)==) *
.==* +
AsString==+ 3
(==3 4
$num==4 7
)==7 8
.>> 

WithColumn>> 
(>> 
$str>> %
)>>% &
.>>& '
AsInt32>>' .
(>>. /
)>>/ 0
;>>0 1
CreateAA 
.AA 
TableAA 
(AA 
$strAA %
)AA% &
.BB 

WithColumnBB 
(BB 
$strBB %
)BB% &
.BB& '
AsInt32BB' .
(BB. /
)BB/ 0
.BB0 1

ForeignKeyBB1 ;
(BB; <
$strBB< B
,BBB C
$strBBD H
)BBH I
.BBI J
OnDeleteBBJ R
(BBR S
SystemBBS Y
.BBY Z
DataBBZ ^
.BB^ _
RuleBB_ c
.BBc d
CascadeBBd k
)BBk l
.CC 

WithColumnCC 
(CC 
$strCC &
)CC& '
.CC' (
AsInt32CC( /
(CC/ 0
)CC0 1
.CC1 2

ForeignKeyCC2 <
(CC< =
$strCC= H
,CCH I
$strCCJ N
)CCN O
.CCO P
OnDeleteCCP X
(CCX Y
SystemCCY _
.CC_ `
DataCC` d
.CCd e
RuleCCe i
.CCi j
CascadeCCj q
)CCq r
;CCr s
CreateFF 
.FF 
TableFF 
(FF 
$strFF '
)FF' (
.GG 

WithColumnGG 
(GG 
$strGG %
)GG% &
.GG& '
AsInt32GG' .
(GG. /
)GG/ 0
.GG0 1

ForeignKeyGG1 ;
(GG; <
$strGG< B
,GGB C
$strGGD H
)GGH I
.GGI J
OnDeleteGGJ R
(GGR S
SystemGGS Y
.GGY Z
DataGGZ ^
.GG^ _
RuleGG_ c
.GGc d
CascadeGGd k
)GGk l
.HH 

WithColumnHH 
(HH 
$strHH (
)HH( )
.HH) *
AsInt32HH* 1
(HH1 2
)HH2 3
.HH3 4

ForeignKeyHH4 >
(HH> ?
$strHH? F
,HHF G
$strHHH L
)HHL M
.HHM N
OnDeleteHHN V
(HHV W
SystemHHW ]
.HH] ^
DataHH^ b
.HHb c
RuleHHc g
.HHg h
CascadeHHh o
)HHo p
;HHp q
CreateKK 
.KK 
TableKK 
(KK 
$strKK '
)KK' (
.LL 

WithColumnLL 
(LL 
$strLL  
)LL  !
.LL! "
AsInt32LL" )
(LL) *
)LL* +
.LL+ ,
IdentityLL, 4
(LL4 5
)LL5 6
.LL6 7

PrimaryKeyLL7 A
(LLA B
)LLB C
.MM 

WithColumnMM 
(MM 
$strMM %
)MM% &
.MM& '
AsInt32MM' .
(MM. /
)MM/ 0
.MM0 1

ForeignKeyMM1 ;
(MM; <
$strMM< B
,MMB C
$strMMD H
)MMH I
.MMI J
OnDeleteMMJ R
(MMR S
SystemMMS Y
.MMY Z
DataMMZ ^
.MM^ _
RuleMM_ c
.MMc d
CascadeMMd k
)MMk l
.NN 

WithColumnNN 
(NN 
$strNN (
)NN( )
.NN) *
AsInt32NN* 1
(NN1 2
)NN2 3
.NN3 4

ForeignKeyNN4 >
(NN> ?
$strNN? F
,NNF G
$strNNH L
)NNL M
.NNM N
OnDeleteNNN V
(NNV W
SystemNNW ]
.NN] ^
DataNN^ b
.NNb c
RuleNNc g
.NNg h
CascadeNNh o
)NNo p
.OO 

WithColumnOO 
(OO 
$strOO (
)OO( )
.OO) *
AsInt32OO* 1
(OO1 2
)OO2 3
.OO3 4

ForeignKeyOO4 >
(OO> ?
$strOO? F
,OOF G
$strOOH L
)OOL M
.OOM N
OnDeleteOON V
(OOV W
SystemOOW ]
.OO] ^
DataOO^ b
.OOb c
RuleOOc g
.OOg h
CascadeOOh o
)OOo p
.PP 

WithColumnPP 
(PP 
$strPP .
)PP. /
.PP/ 0
AsStringPP0 8
(PP8 9
$numPP9 <
)PP< =
.QQ 

WithColumnQQ 
(QQ 
$strQQ -
)QQ- .
.QQ. /
AsStringQQ/ 7
(QQ7 8
$numQQ8 ;
)QQ; <
.RR 

WithColumnRR 
(RR 
$strRR $
)RR$ %
.RR% &
AsInt32RR& -
(RR- .
)RR. /
;RR/ 0
CreateUU 
.UU 
TableUU 
(UU 
$strUU "
)UU" #
.VV 

WithColumnVV 
(VV 
$strVV  
)VV  !
.VV! "
AsInt32VV" )
(VV) *
)VV* +
.VV+ ,
IdentityVV, 4
(VV4 5
)VV5 6
.VV6 7

PrimaryKeyVV7 A
(VVA B
)VVB C
.WW 

WithColumnWW 
(WW 
$strWW )
)WW) *
.WW* +
AsStringWW+ 3
(WW3 4
$numWW4 7
)WW7 8
.XX 

WithColumnXX 
(XX 
$strXX %
)XX% &
.XX& '
AsInt32XX' .
(XX. /
)XX/ 0
.XX0 1

ForeignKeyXX1 ;
(XX; <
$strXX< H
,XXH I
$strXXJ N
)XXN O
.XXO P
OnDeleteXXP X
(XXX Y
SystemXXY _
.XX_ `
DataXX` d
.XXd e
RuleXXe i
.XXi j
CascadeXXj q
)XXq r
;XXr s
Create[[ 
.[[ 
Table[[ 
([[ 
$str[[ $
)[[$ %
.\\ 

WithColumn\\ 
(\\ 
$str\\ %
)\\% &
.\\& '
AsInt32\\' .
(\\. /
)\\/ 0
.\\0 1

ForeignKey\\1 ;
(\\; <
$str\\< H
,\\H I
$str\\J N
)\\N O
.\\O P
OnDelete\\P X
(\\X Y
System\\Y _
.\\_ `
Data\\` d
.\\d e
Rule\\e i
.\\i j
Cascade\\j q
)\\q r
.]] 

WithColumn]] 
(]] 
$str]] %
)]]% &
.]]& '
AsInt32]]' .
(]]. /
)]]/ 0
.]]0 1

ForeignKey]]1 ;
(]]; <
$str]]< C
,]]C D
$str]]E I
)]]I J
.]]J K
OnDelete]]K S
(]]S T
System]]T Z
.]]Z [
Data]][ _
.]]_ `
Rule]]` d
.]]d e
Cascade]]e l
)]]l m
;]]m n
}ss 	
}tt 
}uu ´
PC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\Departments.cs
	namespace 	
OnlineSinav
 
. 
Models 
{ 
public 

class 

Department 
{ 
public		 
virtual		 
int		 
id		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
public

 
virtual

 
string

 
DeptName

 &
{

' (
get

) ,
;

, -
set

. 1
;

1 2
}

3 4
} 
public 

class 
DepartmentMap 
:  
ClassMapping! -
<- .

Department. 8
>8 9
{ 
public 
DepartmentMap 
( 
) 
{ 	
Schema 
( 
$str 
)  
;  !
Id 
( 
x 
=> 
x 
. 
id 
, 
map 
=>  
{! "
map# &
.& '
Column' -
(- .
$str. 2
)2 3
;3 4
map5 8
.8 9
	Generator9 B
(B C

GeneratorsC M
.M N
IdentityN V
)V W
;W X
}Y Z
)Z [
;[ \
Property 
( 
x 
=> 
x 
. 
DeptName $
,$ %
map& )
=>* ,
{- .
map/ 2
.2 3
Column3 9
(9 :
$str: E
)E F
;F G
mapH K
.K L
NotNullableL W
(W X
trueX \
)\ ]
;] ^
}_ `
)` a
;a b
} 	
} 
} üB
IC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\Exam.cs
	namespace 	
OnlineSinav
 
. 
Models 
{		 
public

 

class

 
Exam

 
{ 
public 
virtual 
int 
id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 
DateTime 
examDate  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
DateTime 
	examStart  )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
virtual 
DateTime 
examEnd  '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual 

Department !

Department" ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
Users 
teacher $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
string 
ExamName &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
virtual 
string 
ExamDuration *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
virtual 
IList 
< 
	Questions &
>& '
ExamQuestions( 5
{6 7
get8 ;
;; <
set= @
;@ A
}B C
public 
virtual 
IList 
< 
Users "
>" #
ExamStudents$ 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
Exam 
( 
) 
{ 	
ExamQuestions 
= 
new 
List  $
<$ %
	Questions% .
>. /
(/ 0
)0 1
;1 2
ExamStudents 
= 
new 
List #
<# $
Users$ )
>) *
(* +
)+ ,
;, -
} 	
} 
public 

class 
ExamMap 
: 
ClassMapping '
<' (
Exam( ,
>, -
{   
public"" 
ExamMap"" 
("" 
)"" 
{## 	
Schema$$ 
($$ 
$str$$ 
)$$  
;$$  !
Lazy%% 
(%% 
true%% 
)%% 
;%% 
Id&& 
(&& 
x&& 
=>&& 
x&& 
.&& 
id&& 
,&& 
map&& 
=>&&  
{&&! "
map&&# &
.&&& '
Column&&' -
(&&- .
$str&&. 2
)&&2 3
;&&3 4
map&&5 8
.&&8 9
	Generator&&9 B
(&&B C

Generators&&C M
.&&M N
Identity&&N V
)&&V W
;&&W X
}&&Y Z
)&&Z [
;&&[ \
Property'' 
('' 
x'' 
=>'' 
x'' 
.'' 
ExamName'' $
,''$ %
map''& )
=>''* ,
{''- .
map''/ 2
.''2 3
Column''3 9
(''9 :
$str'': E
)''E F
;''F G
map''H K
.''K L
NotNullable''L W
(''W X
true''X \
)''\ ]
;''] ^
}''_ `
)''` a
;''a b
Property(( 
((( 
x(( 
=>(( 
x(( 
.(( 
examDate(( $
,(($ %
map((& )
=>((* ,
{((- .
map((/ 2
.((2 3
Column((3 9
(((9 :
$str((: E
)((E F
;((F G
map((H K
.((K L
NotNullable((L W
(((W X
true((X \
)((\ ]
;((] ^
}((_ `
)((` a
;((a b
Property)) 
()) 
x)) 
=>)) 
x)) 
.)) 
	examStart)) %
,))% &
map))' *
=>))+ -
{)). /
map))0 3
.))3 4
Column))4 :
()): ;
$str)); G
)))G H
;))H I
map))J M
.))M N
NotNullable))N Y
())Y Z
true))Z ^
)))^ _
;))_ `
}))a b
)))b c
;))c d
Property** 
(** 
x** 
=>** 
x** 
.** 
examEnd** #
,**# $
map**% (
=>**) +
{**, -
map**. 1
.**1 2
Column**2 8
(**8 9
$str**9 C
)**C D
;**D E
map**F I
.**I J
NotNullable**J U
(**U V
true**V Z
)**Z [
;**[ \
}**] ^
)**^ _
;**_ `
Property++ 
(++ 
x++ 
=>++ 
x++ 
.++ 
ExamDuration++ (
,++( )
map++* -
=>++. 0
{++1 2
map++3 6
.++6 7
Column++7 =
(++= >
$str++> M
)++M N
;++N O
map++P S
.++S T
NotNullable++T _
(++_ `
true++` d
)++d e
;++e f
}++g h
)++h i
;++i j
	ManyToOne-- 
(-- 
x-- 
=>-- 
x-- 
.-- 

Department-- '
,--' (
map--) ,
=>--- /
{--0 1
map--2 5
.--5 6
Column--6 <
(--< =
$str--= F
)--F G
;--G H
map--I L
.--L M
Cascade--M T
(--T U
Cascade--U \
.--\ ]
None--] a
)--a b
;--b c
}--d e
)--e f
;--f g
	ManyToOne.. 
(.. 
x.. 
=>.. 
x.. 
... 
teacher.. $
,..$ %
map..& )
=>..* ,
{..- .
map../ 2
...2 3
Column..3 9
(..9 :
$str..: F
)..F G
;..G H
map..I L
...L M
Cascade..M T
(..T U
Cascade..U \
...\ ]
None..] a
)..a b
;..b c
}..d e
)..e f
;..f g
Bag00 
(00 
x00 
=>00 
x00 
.00 
ExamQuestions00 $
,00$ %
x00& '
=>00( *
{00+ ,
x11 
.11 
Table11 
(11 
$str11 $
)11$ %
;11% &
x22 
.22 
Key22 
(22 
k22 
=>22 
k22 
.22 
Column22 #
(22# $
$str22$ -
)22- .
)22. /
;22/ 0
}33 
,33 
x33 
=>33 
x33 
.33 

ManyToMany33  
(33  !
k33! "
=>33# %
k33& '
.33' (
Column33( .
(33. /
$str33/ 9
)339 :
)33: ;
)33; <
;33< =
Bag55 
(55 
x55 
=>55 
x55 
.55 
ExamStudents55 #
,55# $
x55% &
=>55' )
{55* +
x66 
.66 
Table66 
(66 
$str66 &
)66& '
;66' (
x77 
.77 
Key77 
(77 
k77 
=>77 
k77 
.77 
Column77 #
(77# $
$str77$ -
)77- .
)77. /
;77/ 0
}88 
,88 
x88 
=>88 
x88 
.88 

ManyToMany88  
(88  !
k88! "
=>88# %
k88& '
.88' (
Column88( .
(88. /
$str88/ ;
)88; <
)88< =
)88= >
;88> ?
}99 	
}:: 
};; ó)
OC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\ExamResult.cs
	namespace 	
OnlineSinav
 
. 
Models 
{		 
public

 

class

 

ExamResult

 
{ 
public 
virtual 
int 
id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 
Exam 
exam  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
virtual 
Users 
teacher $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
Users 
student $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
virtual 
string 
students_answers .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
virtual 
string 
correct_answers -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
public 
virtual 
int 
result !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
public 

class 
ExamResultMap 
:  
ClassMapping! -
<- .

ExamResult. 8
>8 9
{   
public!! 
ExamResultMap!! 
(!! 
)!! 
{"" 	
Schema## 
(## 
$str## 
)##  
;##  !
Table$$ 
($$ 
$str$$  
)$$  !
;$$! "
Lazy%% 
(%% 
true%% 
)%% 
;%% 
Id&& 
(&& 
x&& 
=>&& 
x&& 
.&& 
id&& 
,&& 
map&& 
=>&&  
{&&! "
map&&# &
.&&& '
Column&&' -
(&&- .
$str&&. 2
)&&2 3
;&&3 4
map&&5 8
.&&8 9
	Generator&&9 B
(&&B C

Generators&&C M
.&&M N
Identity&&N V
)&&V W
;&&W X
}&&Y Z
)&&Z [
;&&[ \
	ManyToOne(( 
((( 
x(( 
=>(( 
x(( 
.(( 
exam(( !
,((! "
map((# &
=>((' )
{((* +
map((, /
.((/ 0
Column((0 6
(((6 7
$str((7 @
)((@ A
;((A B
map((C F
.((F G
Cascade((G N
(((N O
Cascade((O V
.((V W
None((W [
)(([ \
;((\ ]
}((^ _
)((_ `
;((` a
	ManyToOne)) 
()) 
x)) 
=>)) 
x)) 
.)) 
teacher)) $
,))$ %
map))& )
=>))* ,
{))- .
map))/ 2
.))2 3
Column))3 9
())9 :
$str)): F
)))F G
;))G H
map))I L
.))L M
Cascade))M T
())T U
Cascade))U \
.))\ ]
None))] a
)))a b
;))b c
}))d e
)))e f
;))f g
	ManyToOne** 
(** 
x** 
=>** 
x** 
.** 
student** $
,**$ %
map**& )
=>*** ,
{**- .
map**/ 2
.**2 3
Column**3 9
(**9 :
$str**: F
)**F G
;**G H
map**I L
.**L M
Cascade**M T
(**T U
Cascade**U \
.**\ ]
None**] a
)**a b
;**b c
}**d e
)**e f
;**f g
Property,, 
(,, 
x,, 
=>,, 
x,, 
.,, 
students_answers,, ,
,,,, -
map,,. 1
=>,,2 4
{,,5 6
map,,7 :
.,,: ;
Column,,; A
(,,A B
$str,,B T
),,T U
;,,U V
map,,W Z
.,,Z [
NotNullable,,[ f
(,,f g
true,,g k
),,k l
;,,l m
},,n o
),,o p
;,,p q
Property-- 
(-- 
x-- 
=>-- 
x-- 
.-- 
correct_answers-- +
,--+ ,
map--- 0
=>--1 3
{--4 5
map--6 9
.--9 :
Column--: @
(--@ A
$str--A R
)--R S
;--S T
map--U X
.--X Y
NotNullable--Y d
(--d e
true--e i
)--i j
;--j k
}--l m
)--m n
;--n o
Property.. 
(.. 
x.. 
=>.. 
x.. 
... 
result.. "
,.." #
map..$ '
=>..( *
map..+ .
.... /
NotNullable../ :
(..: ;
true..; ?
)..? @
)..@ A
;..A B
}00 	
}11 
}22 ô
LC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\Lessons.cs
	namespace 	
OnlineSinav
 
. 
Models 
{		 
public

 

class

 
Lessons

 
{ 
public 
virtual 
int 
id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 

Department !

Department" ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
virtual 
string 

LessonName (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
} 
public 

class 

LessonsMap 
: 
ClassMapping *
<* +
Lessons+ 2
>2 3
{ 
public 

LessonsMap 
( 
) 
{ 	
Schema 
( 
$str 
)  
;  !
Lazy 
( 
true 
) 
; 
Id 
( 
x 
=> 
x 
. 
id 
, 
map 
=>  
{! "
map# &
.& '
Column' -
(- .
$str. 2
)2 3
;3 4
map5 8
.8 9
	Generator9 B
(B C

GeneratorsC M
.M N
IdentityN V
)V W
;W X
}Y Z
)Z [
;[ \
Property 
( 
x 
=> 
x 
. 

LessonName &
,& '
map( +
=>, .
{/ 0
map1 4
.4 5
Column5 ;
(; <
$str< I
)I J
;J K
mapL O
.O P
NotNullableP [
([ \
true\ `
)` a
;a b
}c d
)d e
;e f
	ManyToOne 
( 
x 
=> 
x 
. 

Department '
,' (
map) ,
=>- /
{0 1
map2 5
.5 6
Column6 <
(< =
$str= F
)F G
;G H
mapI L
.L M
CascadeM T
(T U
CascadeU \
.\ ]
None] a
)a b
;b c
}d e
)e f
;f g
} 	
} 
} ù7
NC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\Questions.cs
	namespace 	
OnlineSinav
 
. 
Models 
{		 
public

 

class

 
	Questions

 
{ 
public 
virtual 
int 
id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 
string 
	QuestName '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
virtual 
string 
Answer1 %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
string 
Answer2 %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
string 
Answer3 %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
string 
Answer4 %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
string 
Answer5 %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
virtual 
string 

TrueAnswer (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 

Department !
dept_id" )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
public 
virtual 
IList 
< 
Exam !
>! "
ExamQuestions# 0
{1 2
get3 6
;6 7
set8 ;
;; <
}= >
public 
	Questions 
( 
) 
{ 	
ExamQuestions 
= 
new 
List  $
<$ %
Exam% )
>) *
(* +
)+ ,
;, -
} 	
} 
public 

class 
QuestionsMap 
: 
ClassMapping  ,
<, -
	Questions- 6
>6 7
{   
public"" 
QuestionsMap"" 
("" 
)"" 
{## 	
Schema$$ 
($$ 
$str$$ 
)$$  
;$$  !
Lazy%% 
(%% 
true%% 
)%% 
;%% 
Id&& 
(&& 
x&& 
=>&& 
x&& 
.&& 
id&& 
,&& 
map&& 
=>&&  
{&&! "
map&&# &
.&&& '
Column&&' -
(&&- .
$str&&. 2
)&&2 3
;&&3 4
map&&5 8
.&&8 9
	Generator&&9 B
(&&B C

Generators&&C M
.&&M N
Identity&&N V
)&&V W
;&&W X
}&&Y Z
)&&Z [
;&&[ \
Property(( 
((( 
x(( 
=>(( 
x(( 
.(( 
	QuestName(( %
,((% &
map((' *
=>((+ -
{((. /
map((0 3
.((3 4
Column((4 :
(((: ;
$str((; G
)((G H
;((H I
map((J M
.((M N
NotNullable((N Y
(((Y Z
true((Z ^
)((^ _
;((_ `
}((a b
)((b c
;((c d
Property** 
(** 
x** 
=>** 
x** 
.** 
Answer1** #
,**# $
map**% (
=>**) +
map**, /
.**/ 0
NotNullable**0 ;
(**; <
true**< @
)**@ A
)**A B
;**B C
Property++ 
(++ 
x++ 
=>++ 
x++ 
.++ 
Answer2++ #
,++# $
map++% (
=>++) +
map++, /
.++/ 0
NotNullable++0 ;
(++; <
true++< @
)++@ A
)++A B
;++B C
Property,, 
(,, 
x,, 
=>,, 
x,, 
.,, 
Answer3,, #
,,,# $
map,,% (
=>,,) +
map,,, /
.,,/ 0
NotNullable,,0 ;
(,,; <
true,,< @
),,@ A
),,A B
;,,B C
Property-- 
(-- 
x-- 
=>-- 
x-- 
.-- 
Answer4-- #
,--# $
map--% (
=>--) +
map--, /
.--/ 0
NotNullable--0 ;
(--; <
true--< @
)--@ A
)--A B
;--B C
Property.. 
(.. 
x.. 
=>.. 
x.. 
... 
Answer5.. #
,..# $
map..% (
=>..) +
map.., /
.../ 0
NotNullable..0 ;
(..; <
true..< @
)..@ A
)..A B
;..B C
Property00 
(00 
x00 
=>00 
x00 
.00 

TrueAnswer00 &
,00& '
map00( +
=>00, .
{00/ 0
map001 4
.004 5
Column005 ;
(00; <
$str00< I
)00I J
;00J K
map00L O
.00O P
NotNullable00P [
(00[ \
true00\ `
)00` a
;00a b
}00c d
)00d e
;00e f
	ManyToOne22 
(22 
x22 
=>22 
x22 
.22 
dept_id22 $
,22$ %
map22& )
=>22* ,
{22- .
map22/ 2
.222 3
Column223 9
(229 :
$str22: C
)22C D
;22D E
map22F I
.22I J
Cascade22J Q
(22Q R
Cascade22R Y
.22Y Z
None22Z ^
)22^ _
;22_ `
}22a b
)22b c
;22c d
Bag44 
(44 
x44 
=>44 
x44 
.44 
ExamQuestions44 $
,44$ %
x44& '
=>44( *
{44+ ,
x55 
.55 
Table55 
(55 
$str55 $
)55$ %
;55% &
x66 
.66 
Key66 
(66 
k66 
=>66 
k66 
.66 
Column66 #
(66# $
$str66$ .
)66. /
)66/ 0
;660 1
}77 
,77 
x77 
=>77 
x77 
.77 

ManyToMany77  
(77  !
k77! "
=>77# %
k77& '
.77' (
Column77( .
(77. /
$str77/ 8
)778 9
)779 :
)77: ;
;77; <
}88 	
}99 
}:: ≈
JC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\Roles.cs
	namespace 	
OnlineSinav
 
. 
Models 
{		 
public

 

class

 
Roles

 
{ 
public 
Roles 
( 
) 
{ 
} 
public 
virtual 
int 
id 
{ 
get  #
;# $
set% (
;( )
}* +
public 
virtual 
string 
RoleName &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
} 
public 

class 
RolesMap 
: 
ClassMapping (
<( )
Roles) .
>. /
{ 
public 
RolesMap 
( 
) 
{ 	
Schema 
( 
$str 
)  
;  !
Lazy 
( 
true 
) 
; 
Id 
( 
x 
=> 
x 
. 
id 
, 
map 
=>  
{! "
map# &
.& '
Column' -
(- .
$str. 2
)2 3
;3 4
map5 8
.8 9
	Generator9 B
(B C

GeneratorsC M
.M N
IdentityN V
)V W
;W X
}Y Z
)Z [
;[ \
Property 
( 
x 
=> 
x 
. 
RoleName $
,$ %
map& )
=>* ,
{- .
map/ 2
.2 3
Column3 9
(9 :
$str: E
)E F
;F G
mapH K
.K L
NotNullableL W
(W X
trueX \
)\ ]
;] ^
}_ `
)` a
;a b
} 	
} 
}   ¥6
JC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Models\Users.cs
	namespace 	
OnlineSinav
 
. 
Models 
{ 
public 

class 
Users 
{		 
public

 
virtual

 
int

 
id

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
virtual 
Roles 
Role !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
virtual 
IList 
< 

Department '
>' (
depts) .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
public 
virtual 
IList 
< 
Exam !
>! "
exams# (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
virtual 
string 
Name "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
virtual 
string 
SchoolNumber *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
virtual 
string 
Password &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
Users 
( 
) 
{ 	
depts 
= 
new 
List 
< 

Department '
>' (
(( )
)) *
;* +
exams 
= 
new 
List 
< 
Exam !
>! "
(" #
)# $
;$ %
} 	
public 
virtual 
void 
SetPassword '
(' (
string( .
password/ 7
)7 8
{ 	
Password 
= 
BCrypt 
. 
Net !
.! "
BCrypt" (
.( )
HashPassword) 5
(5 6
password6 >
,> ?
$num@ B
)B C
;C D
} 	
public 
virtual 
bool 
CheckPassword )
() *
string* 0
pwd1 4
)4 5
{ 	
if 
( 
pwd 
== 
null 
) 
{   
return!! 
false!! 
;!! 
}"" 
else## 
{$$ 
return%% 
BCrypt%% 
.%% 
Net%% !
.%%! "
BCrypt%%" (
.%%( )
Verify%%) /
(%%/ 0
pwd%%0 3
,%%3 4
Password%%5 =
)%%= >
;%%> ?
}&& 
}'' 	
public)) 
class)) 
UsersMap)) 
:)) 
ClassMapping))  ,
<)), -
Users))- 2
>))2 3
{** 	
public++ 
UsersMap++ 
(++ 
)++ 
{,, 
Schema-- 
(-- 
$str-- #
)--# $
;--$ %
Id.. 
(.. 
x.. 
=>.. 
x.. 
... 
id.. 
,.. 
map.. !
=>.." $
map..% (
...( )
	Generator..) 2
(..2 3

Generators..3 =
...= >
Identity..> F
)..F G
)..G H
;..H I
Property// 
(// 
x// 
=>// 
x// 
.//  
Name//  $
,//$ %
map//& )
=>//* ,
map//- 0
.//0 1
NotNullable//1 <
(//< =
true//= A
)//A B
)//B C
;//C D
Property00 
(00 
x00 
=>00 
x00 
.00  
SchoolNumber00  ,
,00, -
map00. 1
=>002 4
{11 
map22 
.22 
Column22 
(22 
$str22 .
)22. /
;22/ 0
map33 
.33 
NotNullable33 #
(33# $
true33$ (
)33( )
;33) *
}44 
)44 
;44 
Property55 
(55 
x55 
=>55 
x55 
.55  
Password55  (
,55( )
map55* -
=>55. 0
map551 4
.554 5
NotNullable555 @
(55@ A
true55A E
)55E F
)55F G
;55G H
	ManyToOne77 
(77 
x77 
=>77 
x77  
.77  !
Role77! %
,77% &
x77' (
=>77) +
{88 
x99 
.99 
Column99 
(99 
$str99 %
)99% &
;99& '
x:: 
.:: 
NotNullable:: !
(::! "
true::" &
)::& '
;::' (
};; 
);; 
;;; 
Bag== 
(== 
x== 
=>== 
x== 
.== 
depts==  
,==  !
x==" #
=>==$ &
{>> 
x?? 
.?? 
Table?? 
(?? 
$str?? '
)??' (
;??( )
x@@ 
.@@ 
Key@@ 
(@@ 
k@@ 
=>@@ 
k@@  
.@@  !
Column@@! '
(@@' (
$str@@( 1
)@@1 2
)@@2 3
;@@3 4
}AA 
,AA 
xAA 
=>AA 
xAA 
.AA 

ManyToManyAA $
(AA$ %
kAA% &
=>AA' )
kAA* +
.AA+ ,
ColumnAA, 2
(AA2 3
$strAA3 <
)AA< =
)AA= >
)AA> ?
;AA? @
BagCC 
(CC 
xCC 
=>CC 
xCC 
.CC 
examsCC  
,CC  !
xCC" #
=>CC$ &
{DD 
xEE 
.EE 
TableEE 
(EE 
$strEE *
)EE* +
;EE+ ,
xFF 
.FF 
KeyFF 
(FF 
kFF 
=>FF 
kFF  
.FF  !
ColumnFF! '
(FF' (
$strFF( 4
)FF4 5
)FF5 6
;FF6 7
}GG 
,GG 
xGG 
=>GG 
xGG 
.GG 

ManyToManyGG $
(GG$ %
kGG% &
=>GG' )
kGG* +
.GG+ ,
ColumnGG, 2
(GG2 3
$strGG3 <
)GG< =
)GG= >
)GG> ?
;GG? @
}HH 
}II 	
}JJ 
}KK Ä
UC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Properties\AssemblyInfo.cs
[ 
assembly 	
:	 

AssemblyTitle 
( 
$str &
)& '
]' (
[		 
assembly		 	
:			 

AssemblyDescription		 
(		 
$str		 !
)		! "
]		" #
[

 
assembly

 	
:

	 
!
AssemblyConfiguration

  
(

  !
$str

! #
)

# $
]

$ %
[ 
assembly 	
:	 

AssemblyCompany 
( 
$str 
) 
] 
[ 
assembly 	
:	 

AssemblyProduct 
( 
$str (
)( )
]) *
[ 
assembly 	
:	 

AssemblyCopyright 
( 
$str 0
)0 1
]1 2
[ 
assembly 	
:	 

AssemblyTrademark 
( 
$str 
)  
]  !
[ 
assembly 	
:	 

AssemblyCulture 
( 
$str 
) 
] 
[ 
assembly 	
:	 


ComVisible 
( 
false 
) 
] 
[ 
assembly 	
:	 

Guid 
( 
$str 6
)6 7
]7 8
["" 
assembly"" 	
:""	 

AssemblyVersion"" 
("" 
$str"" $
)""$ %
]""% &
[## 
assembly## 	
:##	 

AssemblyFileVersion## 
(## 
$str## (
)##( )
]##) *ÑE
ZC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\Areas\Admin\ViewModels\Admin.cs
	namespace 	
OnlineSinav
 
. 

ViewModels  
{ 
public 

class 
	ViewAdmin 
{ 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
[ 	
Display	 
( 
Name 
= 
$str 5
)5 6
]6 7
public 
string 
school_number #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Display	 
( 
Name 
= 
$str "
)" #
]# $
public 
string 
firstname_lastname (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
IEnumerable 
< 
Users  
>  !
	allAdmins" +
{, -
get. 1
;1 2
set3 6
;6 7
}8 9
} 
public 

class 
ViewTeacher 
{ 
[ 	
Display	 
( 
Name 
= 
$str 
) 
] 
public   
string   
Role   
{   
get    
;    !
set  " %
;  % &
}  ' (
["" 	
Display""	 
("" 
Name"" 
="" 
$str"" 5
)""5 6
]""6 7
public## 
string## 
school_number## #
{##$ %
get##& )
;##) *
set##+ .
;##. /
}##0 1
[%% 	
Display%%	 
(%% 
Name%% 
=%% 
$str%% "
)%%" #
]%%# $
public&& 
string&& 
firstname_lastname&& (
{&&) *
get&&+ .
;&&. /
set&&0 3
;&&3 4
}&&5 6
public(( 
IEnumerable(( 
<(( 
Users((  
>((  !
allTeachers((" -
{((. /
get((0 3
;((3 4
set((5 8
;((8 9
}((: ;
})) 
public++ 

class++ 
ViewStudents++ 
{,, 
[-- 	
Display--	 
(-- 
Name-- 
=-- 
$str-- 
)-- 
]-- 
public.. 
string.. 
Role.. 
{.. 
get..  
;..  !
set.." %
;..% &
}..' (
[00 	
Display00	 
(00 
Name00 
=00 
$str00 5
)005 6
]006 7
public11 
string11 
school_number11 #
{11$ %
get11& )
;11) *
set11+ .
;11. /
}110 1
[33 	
Display33	 
(33 
Name33 
=33 
$str33 "
)33" #
]33# $
public44 
string44 
firstname_lastname44 (
{44) *
get44+ .
;44. /
set440 3
;443 4
}445 6
public66 
IEnumerable66 
<66 
Users66  
>66  !
allStudents66" -
{66. /
get660 3
;663 4
set665 8
;668 9
}66: ;
}77 
public88 

class88 
RolDropDown88 
{99 
public:: 
int:: 
id:: 
{:: 
get:: 
;:: 
set::  
;::  !
}::" #
public;; 
string;; 
name;; 
{;; 
get;;  
;;;  !
set;;" %
;;;% &
};;' (
}<< 
publicBB 

classBB 

CreateUserBB 
{CC 
publicEE 

SelectListEE 
allRolesEE "
{EE# $
getEE% (
;EE( )
setEE* -
;EE- .
}EE/ 0
publicFF 

SelectListFF 
allDeptsFF "
{FF# $
getFF% (
;FF( )
setFF* -
;FF- .
}FF/ 0
publicGG 
stringGG 
SelectedRoleIDGG $
{GG% &
getGG' *
;GG* +
setGG, /
;GG/ 0
}GG1 2
publicHH 
stringHH 
SelectedDeptIDHH $
{HH% &
getHH' *
;HH* +
setHH, /
;HH/ 0
}HH1 2
[JJ 	
DisplayJJ	 
(JJ 
NameJJ 
=JJ 
$strJJ (
)JJ( )
]JJ) *
publicKK 
intKK 

userRoleIDKK 
{KK 
getKK  #
;KK# $
setKK% (
;KK( )
}KK* +
[MM 	
DisplayMM	 
(MM 
NameMM 
=MM 
$strMM 4
)MM4 5
]MM5 6
publicNN 
intNN 

userDeptIDNN 
{NN 
getNN  #
;NN# $
setNN% (
;NN( )
}NN* +
[PP 	
DisplayPP	 
(PP 
NamePP 
=PP 
$strPP 5
)PP5 6
]PP6 7
[QQ 	
RequiredQQ	 
]QQ 
publicRR 
stringRR 
school_numberRR #
{RR$ %
getRR& )
;RR) *
setRR+ .
;RR. /
}RR0 1
[TT 	
DisplayTT	 
(TT 
NameTT 
=TT 
$strTT "
)TT" #
]TT# $
[UU 	
RequiredUU	 
(UU 
ErrorMessageUU 
=UU  
$strUU! A
)UUA B
]UUB C
publicVV 
stringVV 
firstname_lastnameVV (
{VV) *
getVV+ .
;VV. /
setVV0 3
;VV3 4
}VV5 6
[XX 	
DisplayXX	 
(XX 
NameXX 
=XX 
$strXX  
)XX  !
]XX! "
[YY 	
RequiredYY	 
(YY 
ErrorMessageYY 
=YY  
$strYY! 3
)YY3 4
]YY4 5
[ZZ 	
DataTypeZZ	 
(ZZ 
DataTypeZZ 
.ZZ 
PasswordZZ #
)ZZ# $
]ZZ$ %
public[[ 
string[[ 
password[[ 
{[[  
get[[! $
;[[$ %
set[[& )
;[[) *
}[[+ ,
[]] 	
Display]]	 
(]] 
Name]] 
=]] 
$str]] '
)]]' (
]]]( )
[^^ 	
Required^^	 
(^^ 
ErrorMessage^^ 
=^^  
$str^^! ;
)^^; <
]^^< =
[__ 	
System__	 
.__ 
ComponentModel__ 
.__ 
DataAnnotations__ .
.__. /
Compare__/ 6
(__6 7
$str__7 A
,__A B
ErrorMessage__C O
=__P Q
$str__R g
)__g h
]__h i
[`` 	
DataType``	 
(`` 
DataType`` 
.`` 
Password`` #
)``# $
]``$ %
publicaa 
stringaa 
password_confirmaa &
{aa' (
getaa) ,
;aa, -
setaa. 1
;aa1 2
}aa3 4
}dd 
publicgg 

classgg 
UsersEditUsergg 
{hh 
[ii 	
DataTypeii	 
(ii 
DataTypeii 
.ii 
Textii 
)ii  
]ii  !
[jj 	
Displayjj	 
(jj 
Promptjj 
=jj 
$strjj  
)jj  !
]jj! "
publickk 
stringkk 
namekk 
{kk 
getkk  
;kk  !
setkk" %
;kk% &
}kk' (
[ll 	
DataTypell	 
(ll 
DataTypell 
.ll 
Textll 
)ll  
]ll  !
[mm 	
Displaymm	 
(mm 
Promptmm 
=mm 
$strmm )
)mm) *
]mm* +
publicnn 
stringnn 
school_numbernn #
{nn$ %
getnn& )
;nn) *
setnn+ .
;nn. /
}nn0 1
publicoo 
IListoo 
<oo 
DropDownListoo !
>oo! "
Rolesoo# (
{oo) *
getoo+ .
;oo. /
setoo0 3
;oo3 4
}oo5 6
}qq 
}uu ˘
MC:\Users\Atabay\Documents\GitHub\NewOnlineExam\OnlineSinav\ViewModels\Auth.cs
	namespace 	
OnlineSinav
 
. 

ViewModels  
{ 
public		 

class		 
	AuthLogin		 
{

 
[ 	
Display	 
( 
Name 
= 
$str 
)  
]  !
[ 	
Required	 
( 
ErrorMessage 
=  
$str  ?
)? @
]@ A
public 
string 
school_number #
{$ %
get& )
;) *
set+ .
;. /
}0 1
[ 	
Display	 
( 
Name 
= 
$str 
)  
]  !
[ 	
Required	 
( 
ErrorMessage 
=  
$str! ?
)? @
]@ A
public 
string 
password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} 